<!DOCTYPE html>
<html lang="center">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 3D Solar System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            background: #000;
            color: #fff;
        }

        #canvas-container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        #controls {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            z-index: 100;
        }

        #controls h3 {
            margin-bottom: 15px;
            color: #4a9eff;
            text-shadow: 0 0 10px rgba(74, 158, 255, 0.5);
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
            color: #ccc;
        }

        input[type="range"] {
            width: 200px;
            height: 6px;
            background: #333;
            outline: none;
            border-radius: 3px;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #4a9eff;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(74, 158, 255, 0.5);
        }

        input[type="range"]::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: #4a9eff;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(74, 158, 255, 0.5);
        }

        #speed-value {
            display: inline-block;
            margin-left: 10px;
            color: #4a9eff;
            font-weight: bold;
        }

        .checkbox-group {
            margin-top: 10px;
        }

        .checkbox-group input {
            margin-right: 8px;
        }

        #planet-info {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            max-width: 300px;
            display: none;
            backdrop-filter: blur(10px);
            z-index: 100;
        }

        #planet-info.visible {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #planet-info h2 {
            color: #ffd700;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        #planet-info p {
            margin-bottom: 10px;
            line-height: 1.6;
            font-size: 14px;
            color: #ddd;
        }

        #planet-info .fact-label {
            font-weight: bold;
            color: #4a9eff;
        }

        #instructions {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 25px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            z-index: 100;
        }

        #instructions p {
            margin: 5px 0;
            font-size: 14px;
            color: #ccc;
        }

        #loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            color: #4a9eff;
            text-shadow: 0 0 20px rgba(74, 158, 255, 0.8);
            z-index: 200;
        }
    </style>
</head>
<body>
    <div id="canvas-container">
        <div id="loading">Initializing Solar System...</div>
        
        <div id="controls">
            <h3>üåå Solar System Controls</h3>
            <div class="control-group">
                <label for="speed-slider">Time Speed: <span id="speed-value">1.0x</span></label>
                <input type="range" id="speed-slider" min="0" max="50" value="10" step="0.5">
            </div>
            <div class="checkbox-group">
                <label>
                    <input type="checkbox" id="orbit-lines" checked> Show Orbit Lines
                </label>
            </div>
            <div class="checkbox-group">
                <label>
                    <input type="checkbox" id="planet-labels" checked> Show Planet Names
                </label>
            </div>
            <div class="checkbox-group">
                <label>
                    <input type="checkbox" id="realistic-scale"> Realistic Scale
                </label>
            </div>
        </div>

        <div id="planet-info">
            <h2 id="planet-name"></h2>
            <p><span class="fact-label">Type:</span> <span id="planet-type"></span></p>
            <p><span class="fact-label">Diameter:</span> <span id="planet-diameter"></span></p>
            <p><span class="fact-label">Distance from Sun:</span> <span id="planet-distance"></span></p>
            <p><span class="fact-label">Orbital Period:</span> <span id="planet-period"></span></p>
            <p><span class="fact-label">Day Length:</span> <span id="planet-day"></span></p>
            <p><span class="fact-label">Moons:</span> <span id="planet-moons"></span></p>
            <p><span class="fact-label">Fun Fact:</span> <span id="planet-fact"></span></p>
        </div>

        <div id="instructions">
            <p><strong>üñ±Ô∏è Mouse Controls:</strong> Left-click and drag to rotate | Scroll to zoom | Right-click to pan</p>
            <p><strong>üåç Interactions:</strong> Click on any planet to view its information</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script>
        // Solar System Data
        const planetData = {
            mercury: {
                name: 'Mercury',
                type: 'Terrestrial Planet',
                radius: 0.4,
                distance: 15,
                orbitSpeed: 4.15,
                rotationSpeed: 0.004,
                color: 0x8C8C8C,
                diameter: '4,879 km',
                distanceFromSun: '57.9 million km',
                orbitalPeriod: '88 Earth days',
                dayLength: '59 Earth days',
                moons: '0',
                fact: 'Mercury has extreme temperature variations, from -173¬∞C at night to 427¬∞C during the day!',
                texture: null
            },
            venus: {
                name: 'Venus',
                type: 'Terrestrial Planet',
                radius: 0.95,
                distance: 20,
                orbitSpeed: 1.62,
                rotationSpeed: -0.002,
                color: 0xFFC649,
                diameter: '12,104 km',
                distanceFromSun: '108.2 million km',
                orbitalPeriod: '225 Earth days',
                dayLength: '243 Earth days',
                moons: '0',
                fact: 'Venus rotates backwards and has the longest day of any planet - its day is longer than its year!',
                texture: null
            },
            earth: {
                name: 'Earth',
                type: 'Terrestrial Planet',
                radius: 1,
                distance: 25,
                orbitSpeed: 1,
                rotationSpeed: 0.02,
                color: 0x2E5EFF,
                diameter: '12,756 km',
                distanceFromSun: '149.6 million km',
                orbitalPeriod: '365.25 days',
                dayLength: '24 hours',
                moons: '1',
                fact: 'Earth is the only known planet with liquid water on its surface and life as we know it!',
                texture: null
            },
            mars: {
                name: 'Mars',
                type: 'Terrestrial Planet',
                radius: 0.53,
                distance: 32,
                orbitSpeed: 0.53,
                rotationSpeed: 0.018,
                color: 0xFF4500,
                diameter: '6,792 km',
                distanceFromSun: '227.9 million km',
                orbitalPeriod: '687 Earth days',
                dayLength: '24.6 hours',
                moons: '2 (Phobos and Deimos)',
                fact: 'Mars has the largest dust storms in the solar system, lasting for months and covering the entire planet!',
                texture: null
            },
            jupiter: {
                name: 'Jupiter',
                type: 'Gas Giant',
                radius: 3,
                distance: 50,
                orbitSpeed: 0.084,
                rotationSpeed: 0.04,
                color: 0xD4A373,
                diameter: '142,984 km',
                distanceFromSun: '778.5 million km',
                orbitalPeriod: '12 Earth years',
                dayLength: '9.9 hours',
                moons: '79 known moons',
                fact: 'Jupiter\'s Great Red Spot is a storm that has been raging for at least 350 years!',
                texture: null
            },
            saturn: {
                name: 'Saturn',
                type: 'Gas Giant',
                radius: 2.5,
                distance: 70,
                orbitSpeed: 0.034,
                rotationSpeed: 0.038,
                color: 0xFAD5A5,
                diameter: '120,536 km',
                distanceFromSun: '1.43 billion km',
                orbitalPeriod: '29 Earth years',
                dayLength: '10.7 hours',
                moons: '82 known moons',
                fact: 'Saturn is less dense than water - it would float in a bathtub big enough to hold it!',
                texture: null,
                hasRings: true
            },
            uranus: {
                name: 'Uranus',
                type: 'Ice Giant',
                radius: 1.5,
                distance: 90,
                orbitSpeed: 0.012,
                rotationSpeed: 0.03,
                color: 0x4FD0E0,
                diameter: '51,118 km',
                distanceFromSun: '2.87 billion km',
                orbitalPeriod: '84 Earth years',
                dayLength: '17.2 hours',
                moons: '27 known moons',
                fact: 'Uranus rotates on its side at a 98-degree angle, possibly due to a massive collision!',
                texture: null
            },
            neptune: {
                name: 'Neptune',
                type: 'Ice Giant',
                radius: 1.45,
                distance: 105,
                orbitSpeed: 0.006,
                rotationSpeed: 0.032,
                color: 0x4B70DD,
                diameter: '49,528 km',
                distanceFromSun: '4.5 billion km',
                orbitalPeriod: '165 Earth years',
                dayLength: '16.1 hours',
                moons: '14 known moons',
                fact: 'Neptune has the fastest winds in the solar system, reaching speeds of 2,100 km/h!',
                texture: null
            }
        };

        // Initialize Three.js
        let scene, camera, renderer, controls;
        let planets = {};
        let orbits = {};
        let labels = {};
        let timeSpeed = 1;
        let showOrbits = true;
        let showLabels = true;
        let raycaster, mouse;

        function init() {
            // Scene setup
            scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2(0x000000, 0.00005);

            // Camera setup
            camera = new THREE.PerspectiveCamera(
                75,
                window.innerWidth / window.innerHeight,
                0.1,
                10000
            );
            camera.position.set(50, 30, 50);

            // Renderer setup
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            // Controls
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.minDistance = 10;
            controls.maxDistance = 200;
            controls.enablePan = true;

            // Raycaster for mouse interactions
            raycaster = new THREE.Raycaster();
            mouse = new THREE.Vector2();

            // Lighting
            const ambientLight = new THREE.AmbientLight(0x333333);
            scene.add(ambientLight);

            // Add stars
            createStarfield();

            // Create Sun
            createSun();

            // Create planets
            Object.keys(planetData).forEach(key => {
                createPlanet(key, planetData[key]);
            });

            // Event listeners
            setupEventListeners();

            // Hide loading
            document.getElementById('loading').style.display = 'none';

            // Start animation
            animate();
        }

        function createStarfield() {
            const starsGeometry = new THREE.BufferGeometry();
            const starsMaterial = new THREE.PointsMaterial({
                color: 0xFFFFFF,
                size: 0.5,
                transparent: true,
                opacity: 0.8
            });

            const starsVertices = [];
            for (let i = 0; i < 10000; i++) {
                const x = (Math.random() - 0.5) * 2000;
                const y = (Math.random() - 0.5) * 2000;
                const z = (Math.random() - 0.5) * 2000;
                starsVertices.push(x, y, z);
            }

            starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
            const starField = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(starField);
        }

        function createSun() {
            const sunGeometry = new THREE.SphereGeometry(5, 32, 32);
            
            // Create procedural sun texture
            const canvas = document.createElement('canvas');
            canvas.width = 512;
            canvas.height = 256;
            const ctx = canvas.getContext('2d');
            
            // Create gradient for sun surface
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
            gradient.addColorStop(0, '#FFF5B4');
            gradient.addColorStop(0.3, '#FFD700');
            gradient.addColorStop(0.5, '#FFA500');
            gradient.addColorStop(0.7, '#FF8C00');
            gradient.addColorStop(1, '#FFD700');
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Add some noise for texture
            for (let i = 0; i < 1000; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const radius = Math.random() * 10;
                const opacity = Math.random() * 0.5;
                
                ctx.globalAlpha = opacity;
                ctx.fillStyle = Math.random() > 0.5 ? '#FFFF00' : '#FF8C00';
                ctx.beginPath();
                ctx.arc(x, y, radius, 0, Math.PI * 2);
                ctx.fill();
            }
            
            const sunTexture = new THREE.CanvasTexture(canvas);
            
            const sunMaterial = new THREE.MeshBasicMaterial({
                map: sunTexture,
                emissive: 0xFFD700,
                emissiveIntensity: 1
            });
            
            const sun = new THREE.Mesh(sunGeometry, sunMaterial);
            scene.add(sun);
            
            // Sun light
            const sunLight = new THREE.PointLight(0xFFFFFF, 2, 300);
            sunLight.position.set(0, 0, 0);
            sunLight.castShadow = true;
            sunLight.shadow.mapSize.width = 2048;
            sunLight.shadow.mapSize.height = 2048;
            scene.add(sunLight);
            
            // Add sun glow
            const glowGeometry = new THREE.SphereGeometry(7, 32, 32);
            const glowMaterial = new THREE.MeshBasicMaterial({
                color: 0xFFD700,
                transparent: true,
                opacity: 0.3,
                side: THREE.BackSide
            });
            const glow = new THREE.Mesh(glowGeometry, glowMaterial);
            scene.add(glow);
        }

        function createPlanetTexture(color, pattern) {
            const canvas = document.createElement('canvas');
            canvas.width = 512;
            canvas.height = 256;
            const ctx = canvas.getContext('2d');
            
            // Base color
            ctx.fillStyle = `#${color.toString(16).padStart(6, '0')}`;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Add procedural patterns based on planet type
            if (pattern === 'rocky') {
                // Rocky planet texture
                for (let i = 0; i < 200; i++) {
                    const x = Math.random() * canvas.width;
                    const y = Math.random() * canvas.height;
                    const radius = Math.random() * 5 + 1;
                    const brightness = Math.random() * 0.3;
                    
                    ctx.globalAlpha = brightness;
                    ctx.fillStyle = Math.random() > 0.5 ? '#444444' : '#666666';
                    ctx.beginPath();
                    ctx.arc(x, y, radius, 0, Math.PI * 2);
                    ctx.fill();
                }
            } else if (pattern === 'gas') {
                // Gas giant bands
                ctx.globalAlpha = 0.3;
                for (let i = 0; i < canvas.height; i += 10) {
                    const offset = Math.sin(i * 0.1) * 20;
                    ctx.strokeStyle = Math.random() > 0.5 ? '#FFFFFF' : '#000000';
                    ctx.lineWidth = Math.random() * 5 + 1;
                    ctx.beginPath();
                    ctx.moveTo(0, i + offset);
                    
                    for (let x = 0; x < canvas.width; x += 10) {
                        const y = i + Math.sin(x * 0.05) * 5 + offset;
                        ctx.lineTo(x, y);
                    }
                    ctx.stroke();
                }
            } else if (pattern === 'ice') {
                // Ice giant texture
                const gradient = ctx.createRadialGradient(
                    canvas.width / 2, canvas.height / 2, 0,
                    canvas.width / 2, canvas.height / 2, canvas.width / 2
                );
                gradient.addColorStop(0, `#${color.toString(16).padStart(6, '0')}FF`);
                gradient.addColorStop(1, `#${color.toString(16).padStart(6, '0')}88`);
                ctx.globalAlpha = 0.5;
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            
            ctx.globalAlpha = 1;
            return new THREE.CanvasTexture(canvas);
        }

        function createPlanet(name, data) {
            // Create planet group
            const planetGroup = new THREE.Group();
            
            // Determine texture pattern
            let pattern = 'rocky';
            if (data.type === 'Gas Giant') pattern = 'gas';
            if (data.type === 'Ice Giant') pattern = 'ice';
            
            // Create planet mesh
            const geometry = new THREE.SphereGeometry(data.radius, 32, 32);
            const texture = createPlanetTexture(data.color, pattern);
            const material = new THREE.MeshPhongMaterial({
                map: texture,
                shininess: pattern === 'rocky' ? 10 : 50
            });
            
            const planet = new THREE.Mesh(geometry, material);
            planet.castShadow = true;
            planet.receiveShadow = true;
            planet.userData = { name: name, data: data };
            planetGroup.add(planet);
            
            // Add rings for Saturn
            if (data.hasRings) {
                const ringGeometry = new THREE.RingGeometry(
                    data.radius * 1.5,
                    data.radius * 2.5,
                    64
                );
                const ringMaterial = new THREE.MeshBasicMaterial({
                    color: 0xBBBB88,
                    side: THREE.DoubleSide,
                    transparent: true,
                    opacity: 0.7
                });
                const rings = new THREE.Mesh(ringGeometry, ringMaterial);
                rings.rotation.x = Math.PI / 2;
                planetGroup.add(rings);
            }
            
            // Create orbit line
            const orbitPoints = [];
            const segments = 128;
            for (let i = 0; i <= segments; i++) {
                const angle = (i / segments) * Math.PI * 2;
                const x = Math.cos(angle) * data.distance;
                const z = Math.sin(angle) * data.distance;
                orbitPoints.push(new THREE.Vector3(x, 0, z));
            }
            
            const orbitGeometry = new THREE.BufferGeometry().setFromPoints(orbitPoints);
            const orbitMaterial = new THREE.LineBasicMaterial({
                color: 0x444444,
                transparent: true,
                opacity: 0.3
            });
            const orbitLine = new THREE.Line(orbitGeometry, orbitMaterial);
            scene.add(orbitLine);
            
            // Store references
            planets[name] = planetGroup;
            orbits[name] = orbitLine;
            scene.add(planetGroup);
            
            // Position planet
            planetGroup.position.x = data.distance;
        }

        function setupEventListeners() {
            // Window resize
            window.addEventListener('resize', onWindowResize, false);
            
            // Mouse click for planet selection
            renderer.domElement.addEventListener('click', onMouseClick, false);
            
            // Speed control
            const speedSlider = document.getElementById('speed-slider');
            speedSlider.addEventListener('input', (e) => {
                timeSpeed = parseFloat(e.target.value) / 10;
                document.getElementById('speed-value').textContent = timeSpeed.toFixed(1) + 'x';
            });
            
            // Orbit lines toggle
            document.getElementById('orbit-lines').addEventListener('change', (e) => {
                showOrbits = e.target.checked;
                Object.values(orbits).forEach(orbit => {
                    orbit.visible = showOrbits;
                });
            });
            
            // Labels toggle
            document.getElementById('planet-labels').addEventListener('change', (e) => {
                showLabels = e.target.checked;
            });
            
            // Realistic scale toggle
            document.getElementById('realistic-scale').addEventListener('change', (e) => {
                const scale = e.target.checked;
                Object.keys(planets).forEach(name => {
                    const planet = planets[name];
                    const data = planetData[name];
                    if (scale) {
                        // More realistic relative sizes
                        const realScale = {
                            mercury: 0.2,
                            venus: 0.5,
                            earth: 0.5,
                            mars: 0.3,
                            jupiter: 5,
                            saturn: 4,
                            uranus: 2,
                            neptune: 1.9
                        };
                        planet.scale.setScalar(realScale[name] || 1);
                    } else {
                        planet.scale.setScalar(1);
                    }
                });
            });
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function onMouseClick(event) {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            
            raycaster.setFromCamera(mouse, camera);
            
            const intersectObjects = [];
            Object.values(planets).forEach(group => {
                group.children.forEach(child => {
                    if (child.type === 'Mesh' && child.geometry.type === 'SphereGeometry') {
                        intersectObjects.push(child);
                    }
                });
            });
            
            const intersects = raycaster.intersectObjects(intersectObjects);
            
            if (intersects.length > 0) {
                const planet = intersects[0].object;
                const planetInfo = planet.userData;
                
                if (planetInfo && planetInfo.data) {
                    showPlanetInfo(planetInfo.data);
                }
            }
        }

        function showPlanetInfo(data) {
            const infoPanel = document.getElementById('planet-info');
            
            document.getElementById('planet-name').textContent = data.name;
            document.getElementById('planet-type').textContent = data.type;
            document.getElementById('planet-diameter').textContent = data.diameter;
            document.getElementById('planet-distance').textContent = data.distanceFromSun;
            document.getElementById('planet-period').textContent = data.orbitalPeriod;
            document.getElementById('planet-day').textContent = data.dayLength;
            document.getElementById('planet-moons').textContent = data.moons;
            document.getElementById('planet-fact').textContent = data.fact;
            
            infoPanel.classList.add('visible');
            
            // Auto-hide after 10 seconds
            setTimeout(() => {
                infoPanel.classList.remove('visible');
            }, 10000);
        }

        function animate() {
            requestAnimationFrame(animate);
            
            // Update controls
            controls.update();
            
            // Rotate and orbit planets
            const time = Date.now() * 0.001 * timeSpeed;
            
            Object.keys(planets).forEach(name => {
                const planet = planets[name];
                const data = planetData[name];
                
                // Orbital motion (elliptical)
                const angle = time * data.orbitSpeed * 0.1;
                const eccentricity = 0.1; // Slight elliptical orbit
                const a = data.distance; // Semi-major axis
                const b = a * Math.sqrt(1 - eccentricity * eccentricity); // Semi-minor axis
                
                planet.position.x = a * Math.cos(angle);
                planet.position.z = b * Math.sin(angle);
                
                // Axial rotation
                planet.children[0].rotation.y += data.rotationSpeed * timeSpeed;
                
                // Tilt for some planets
                if (name === 'earth') {
                    planet.children[0].rotation.z = 23.5 * Math.PI / 180;
                } else if (name === 'uranus') {
                    planet.children[0].rotation.z = 98 * Math.PI / 180;
                }
            });
            
            renderer.render(scene, camera);
        }

        // Initialize when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>