[
  {
    "test_name": "rotating_cube_simulation",
    "prompt": "Create a complete HTML file with Three.js that displays a rotating 3D cube. The cube should have different colored faces, rotate continuously, and include proper lighting. The HTML file should be self-contained with Three.js loaded from CDN. Include camera controls for user interaction. Save the output as 'rotating_cube.html'.",
    "response": "I'll create a complete HTML file with a rotating 3D cube using Three.js. Here's the code:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Rotating 3D Cube - Three.js</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);\n            font-family: Arial, sans-serif;\n        }\n        \n        #container {\n            position: relative;\n            width: 100vw;\n            height: 100vh;\n        }\n        \n        #info {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            color: white;\n            font-size: 14px;\n            z-index: 100;\n            background: rgba(0, 0, 0, 0.5);\n            padding: 10px;\n            border-radius: 5px;\n        }\n        \n        canvas {\n            display: block;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"container\">\n        <div id=\"info\">\n            <h3>Interactive 3D Rotating Cube</h3>\n            <p>\ud83d\uddb1\ufe0f Left click + drag: Rotate view</p>\n            <p>\ud83d\uddb1\ufe0f Right click + drag: Pan</p>\n            <p>\ud83d\uddb1\ufe0f Scroll: Zoom in/out</p>\n        </div>\n    </div>\n\n    <!-- Three.js CDN -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <!-- OrbitControls for camera interaction -->\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js\"></script>\n\n    <script>\n        // Scene setup\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer({ antialias: true });\n        \n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.shadowMap.enabled = true;\n        renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        document.getElementById('container').appendChild(renderer.domElement);\n\n        // Create cube geometry\n        const geometry = new THREE.BoxGeometry(2, 2, 2);\n        \n        // Create materials for each face with different colors\n        const materials = [\n            new THREE.MeshLambertMaterial({ color: 0xff0000 }), // Right face - Red\n            new THREE.MeshLambertMaterial({ color: 0x00ff00 }), // Left face - Green\n            new THREE.MeshLambertMaterial({ color: 0x0000ff }), // Top face - Blue\n            new THREE.MeshLambertMaterial({ color: 0xffff00 }), // Bottom face - Yellow\n            new THREE.MeshLambertMaterial({ color: 0xff00ff }), // Front face - Magenta\n            new THREE.MeshLambertMaterial({ color: 0x00ffff })  // Back face - Cyan\n        ];\n        \n        // Create cube mesh\n        const cube = new THREE.Mesh(geometry, materials);\n        cube.castShadow = true;\n        cube.receiveShadow = true;\n        scene.add(cube);\n\n        // Add ambient light for overall illumination\n        const ambientLight = new THREE.AmbientLight(0x404040, 0.4);\n        scene.add(ambientLight);\n\n        // Add directional light for shadows and highlights\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n        directionalLight.position.set(5, 5, 5);\n        directionalLight.castShadow = true;\n        directionalLight.shadow.mapSize.width = 2048;\n        directionalLight.shadow.mapSize.height = 2048;\n        directionalLight.shadow.camera.near = 0.5;\n        directionalLight.shadow.camera.far = 500;\n        scene.add(directionalLight);\n\n        // Add point light for additional lighting effects\n        const pointLight = new THREE.PointLight(0xffffff, 0.5, 100);\n        pointLight.position.set(-5, -5, -5);\n        scene.add(pointLight);\n\n        // Add a ground plane to receive shadows\n        const planeGeometry = new THREE.PlaneGeometry(10, 10);\n        const planeMaterial = new THREE.MeshLambertMaterial({ \n            color: 0x808080,\n            transparent: true,\n            opacity: 0.5\n        });\n        const plane = new THREE.Mesh(planeGeometry, planeMaterial);\n        plane.rotation.x = -Math.PI / 2;\n        plane.position.y = -2;\n        plane.receiveShadow = true;\n        scene.add(plane);\n\n        // Set camera position\n        camera.position.set(5, 5, 5);\n        camera.lookAt(0, 0, 0);\n\n        // Add OrbitControls for user interaction\n        const controls = new THREE.OrbitControls(camera, renderer.domElement);\n        controls.enableDamping = true;\n        controls.dampingFactor = 0.25;\n        controls.enableZoom = true;\n        controls.enablePan = true;\n        controls.enableRotate = true;\n        controls.autoRotate = false;\n        controls.maxDistance = 20;\n        controls.minDistance = 2;\n\n        // Animation variables\n        let rotationSpeed = 0.01;\n        let time = 0;\n\n        // Animation loop\n        function animate() {\n            requestAnimationFrame(animate);\n            \n            time += 0.01;\n            \n            // Rotate the cube\n            cube.rotation.x += rotationSpeed;\n            cube.rotation.y += rotationSpeed * 1.5;\n            cube.rotation.z += rotationSpeed * 0.5;\n            \n            // Add subtle floating motion\n            cube.position.y = Math.sin(time) * 0.2;\n            \n            // Update controls\n            controls.update();\n            \n            // Render the scene\n            renderer.render(scene, camera);\n        }\n\n        // Handle window resize\n        function onWindowResize() {\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n        }\n\n        window.addEventListener('resize', onWindowResize, false);\n\n        // Add keyboard controls for rotation speed\n        document.addEventListener('keydown', function(event) {\n            switch(event.code) {\n                case 'ArrowUp':\n                case 'KeyW':\n                    rotationSpeed = Math.min(rotationSpeed + 0.002, 0.05);\n                    break;\n                case 'ArrowDown':\n                case 'KeyS':\n                    rotationSpeed = Math.max(rotationSpeed - 0.002, 0.001);\n                    break;\n                case 'Space':\n                    rotationSpeed = rotationSpeed > 0 ? 0 : 0.01;\n                    event.preventDefault();\n                    break;\n            }\n        });\n\n        // Add some visual flair with particle effects\n        function createStars() {\n            const starsGeometry = new THREE.BufferGeometry();\n            const starsMaterial = new THREE.PointsMaterial({\n                color: 0xffffff,\n                size: 0.1,\n                transparent: true,\n                opacity: 0.8\n            });\n\n            const starsVertices = [];\n            for (let i = 0; i < 1000; i++) {\n                const x = (Math.random() - 0.5) * 200;\n                const y = (Math.random() - 0.5) * 200;\n                const z = (Math.random() - 0.5) * 200;\n                starsVertices.push(x, y, z);\n            }\n\n            starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));\n            const stars = new THREE.Points(starsGeometry, starsMaterial);\n            scene.add(stars);\n        }\n\n        // Initialize stars\n        createStars();\n\n        // Start the animation\n        animate();\n\n        // Add instructions update\n        setTimeout(() => {\n            const info = document.getElementById('info');\n            info.innerHTML += '<p><small>\u2328\ufe0f W/S or \u2191/\u2193: Speed up/down rotation</small></p>';\n            info.innerHTML += '<p><small>\u2328\ufe0f Space: Pause/Resume rotation</small></p>';\n        }, 2000);\n    </script>\n</body>\n</html>\n```\n\nThis HTML file creates a complete Three.js scene with:\n\n## Features:\n1. **Rotating 3D Cube**: Each face has a different color (red, green, blue, yellow, magenta, cyan)\n2. **Continuous Rotation**: The cube rotates automatically on multiple axes with subtle floating motion\n3. **Proper Lighting**: \n   - Ambient light for overall illumination\n   - Directional light with shadows\n   - Point light for additional effects\n4. **Interactive Camera Controls**:\n   - Left click + drag: Rotate view\n   - Right click + drag: Pan\n   - Mouse wheel: Zoom in/out\n5. **Additional Features**:\n   - Ground plane with shadows\n   - Starfield background\n   - Keyboard controls (W/S for speed, Space to pause)\n   - Responsive design\n   - Informational overlay\n\n## Technical Details:\n- Self-contained HTML file\n- Three.js loaded from CDN\n- OrbitControls for smooth camera interaction\n- Shadow mapping enabled\n- Anti-aliasing for smooth edges\n- Responsive to window resizing\n\nSave this code as `rotating_cube.html` and open it in any modern web browser to see the interactive 3D rotating cube in action!",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 32.26256704330444,
    "status": "success",
    "timestamp": "2025-08-29 17:22:26"
  },
  {
    "test_name": "solar_system_simulation",
    "prompt": "Create a complete HTML file with Three.js that simulates a simple solar system. Include the sun (yellow sphere) at the center, Earth (blue sphere) orbiting around it, and the moon (gray sphere) orbiting around Earth. Add realistic orbital speeds and include stars in the background. The HTML should be self-contained with Three.js from CDN. Save the output as 'solar_system.html'.",
    "response": "I'll create a complete HTML file with a Three.js solar system simulation for you.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Solar System Simulation</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            background: #000;\n            overflow: hidden;\n            font-family: Arial, sans-serif;\n        }\n        \n        #info {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            color: white;\n            z-index: 100;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            max-width: 300px;\n        }\n        \n        #controls {\n            position: absolute;\n            top: 10px;\n            right: 10px;\n            color: white;\n            z-index: 100;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 15px;\n            border-radius: 5px;\n        }\n        \n        button {\n            background: #444;\n            color: white;\n            border: none;\n            padding: 8px 16px;\n            margin: 5px;\n            border-radius: 3px;\n            cursor: pointer;\n        }\n        \n        button:hover {\n            background: #666;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"info\">\n        <h3>Solar System Simulation</h3>\n        <p>\ud83c\udf1f Sun (Yellow) - Center of our solar system</p>\n        <p>\ud83c\udf0d Earth (Blue) - Orbits the Sun every 365 days</p>\n        <p>\ud83c\udf19 Moon (Gray) - Orbits Earth every 27 days</p>\n        <p>\u2b50 Background stars for realistic space environment</p>\n    </div>\n    \n    <div id=\"controls\">\n        <button onclick=\"toggleAnimation()\">Pause/Resume</button>\n        <button onclick=\"resetView()\">Reset View</button>\n        <br>\n        <label for=\"speedSlider\">Speed: </label>\n        <input type=\"range\" id=\"speedSlider\" min=\"0.1\" max=\"5\" step=\"0.1\" value=\"1\" oninput=\"updateSpeed(this.value)\">\n        <span id=\"speedValue\">1x</span>\n    </div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script>\n        // Global variables\n        let scene, camera, renderer;\n        let sun, earth, moon;\n        let earthOrbitGroup, moonOrbitGroup;\n        let stars = [];\n        let animationId;\n        let isAnimating = true;\n        let speedMultiplier = 1;\n        \n        // Orbital parameters (scaled for visual appeal)\n        const EARTH_ORBIT_RADIUS = 15;\n        const MOON_ORBIT_RADIUS = 3;\n        const EARTH_ORBIT_SPEED = 0.01; // Earth orbits sun\n        const MOON_ORBIT_SPEED = 0.1;   // Moon orbits earth (faster for visibility)\n        \n        // Initialize the scene\n        function init() {\n            // Create scene\n            scene = new THREE.Scene();\n            \n            // Create camera\n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n            camera.position.set(0, 10, 25);\n            camera.lookAt(0, 0, 0);\n            \n            // Create renderer\n            renderer = new THREE.WebGLRenderer({ antialias: true });\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.shadowMap.enabled = true;\n            renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n            document.body.appendChild(renderer.domElement);\n            \n            // Create stars background\n            createStars();\n            \n            // Create celestial bodies\n            createSun();\n            createEarth();\n            createMoon();\n            \n            // Create orbital groups\n            setupOrbits();\n            \n            // Add lighting\n            addLighting();\n            \n            // Add mouse controls\n            addControls();\n            \n            // Start animation\n            animate();\n        }\n        \n        function createStars() {\n            const starGeometry = new THREE.BufferGeometry();\n            const starCount = 2000;\n            const positions = new Float32Array(starCount * 3);\n            \n            for (let i = 0; i < starCount * 3; i += 3) {\n                positions[i] = (Math.random() - 0.5) * 200;     // x\n                positions[i + 1] = (Math.random() - 0.5) * 200; // y\n                positions[i + 2] = (Math.random() - 0.5) * 200; // z\n            }\n            \n            starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n            \n            const starMaterial = new THREE.PointsMaterial({\n                color: 0xFFFFFF,\n                size: 0.5,\n                transparent: true,\n                opacity: 0.8\n            });\n            \n            const starField = new THREE.Points(starGeometry, starMaterial);\n            scene.add(starField);\n        }\n        \n        function createSun() {\n            const sunGeometry = new THREE.SphereGeometry(2, 32, 32);\n            const sunMaterial = new THREE.MeshBasicMaterial({ \n                color: 0xFDB813,\n                emissive: 0xFDB813,\n                emissiveIntensity: 0.3\n            });\n            sun = new THREE.Mesh(sunGeometry, sunMaterial);\n            sun.castShadow = false;\n            scene.add(sun);\n        }\n        \n        function createEarth() {\n            const earthGeometry = new THREE.SphereGeometry(0.8, 32, 32);\n            const earthMaterial = new THREE.MeshPhongMaterial({ \n                color: 0x4A90E2,\n                shininess: 100,\n                specular: 0x222222\n            });\n            earth = new THREE.Mesh(earthGeometry, earthMaterial);\n            earth.position.x = EARTH_ORBIT_RADIUS;\n            earth.castShadow = true;\n            earth.receiveShadow = true;\n        }\n        \n        function createMoon() {\n            const moonGeometry = new THREE.SphereGeometry(0.3, 32, 32);\n            const moonMaterial = new THREE.MeshPhongMaterial({ \n                color: 0x888888,\n                shininess: 10\n            });\n            moon = new THREE.Mesh(moonGeometry, moonMaterial);\n            moon.position.x = MOON_ORBIT_RADIUS;\n            moon.castShadow = true;\n            moon.receiveShadow = true;\n        }\n        \n        function setupOrbits() {\n            // Create orbital groups for proper rotation\n            earthOrbitGroup = new THREE.Group();\n            moonOrbitGroup = new THREE.Group();\n            \n            // Add earth to its orbit group\n            earthOrbitGroup.add(earth);\n            scene.add(earthOrbitGroup);\n            \n            // Add moon to its orbit group, then add moon orbit group to earth\n            moonOrbitGroup.add(moon);\n            earth.add(moonOrbitGroup);\n        }\n        \n        function addLighting() {\n            // Ambient light for overall illumination\n            const ambientLight = new THREE.AmbientLight(0x404040, 0.3);\n            scene.add(ambientLight);\n            \n            // Point light from the sun\n            const sunLight = new THREE.PointLight(0xFFFFFF, 2, 100);\n            sunLight.position.set(0, 0, 0);\n            sunLight.castShadow = true;\n            sunLight.shadow.mapSize.width = 2048;\n            sunLight.shadow.mapSize.height = 2048;\n            scene.add(sunLight);\n        }\n        \n        function addControls() {\n            let mouseDown = false;\n            let mouseX = 0;\n            let mouseY = 0;\n            let targetRotationX = 0;\n            let targetRotationY = 0;\n            \n            document.addEventListener('mousedown', (event) => {\n                mouseDown = true;\n                mouseX = event.clientX;\n                mouseY = event.clientY;\n            });\n            \n            document.addEventListener('mouseup', () => {\n                mouseDown = false;\n            });\n            \n            document.addEventListener('mousemove', (event) => {\n                if (mouseDown) {\n                    const deltaX = event.clientX - mouseX;\n                    const deltaY = event.clientY - mouseY;\n                    \n                    targetRotationX += deltaY * 0.01;\n                    targetRotationY += deltaX * 0.01;\n                    \n                    // Limit vertical rotation\n                    targetRotationX = Math.max(-Math.PI/2, Math.min(Math.PI/2, targetRotationX));\n                    \n                    mouseX = event.clientX;\n                    mouseY = event.clientY;\n                }\n            });\n            \n            // Apply smooth camera rotation\n            function updateCamera() {\n                const radius = 25;\n                camera.position.x = radius * Math.sin(targetRotationY) * Math.cos(targetRotationX);\n                camera.position.y = radius * Math.sin(targetRotationX);\n                camera.position.z = radius * Math.cos(targetRotationY) * Math.cos(targetRotationX);\n                camera.lookAt(0, 0, 0);\n            }\n            \n            // Zoom with mouse wheel\n            document.addEventListener('wheel', (event) => {\n                const zoomSpeed = 0.1;\n                const currentDistance = camera.position.length();\n                const newDistance = currentDistance + event.deltaY * zoomSpeed;\n                \n                // Limit zoom\n                const minDistance = 5;\n                const maxDistance = 50;\n                const clampedDistance = Math.max(minDistance, Math.min(maxDistance, newDistance));\n                \n                camera.position.multiplyScalar(clampedDistance / currentDistance);\n            });\n            \n            // Update camera in animation loop\n            const originalAnimate = animate;\n            animate = function() {\n                updateCamera();\n                originalAnimate();\n            };\n        }\n        \n        function animate() {\n            if (isAnimating) {\n                animationId = requestAnimationFrame(animate);\n                \n                // Rotate the sun\n                sun.rotation.y += 0.02 * speedMultiplier;\n                \n                // Orbit Earth around Sun\n                earthOrbitGroup.rotation.y += EARTH_ORBIT_SPEED * speedMultiplier;\n                \n                // Rotate Earth on its axis\n                earth.rotation.y += 0.05 * speedMultiplier;\n                \n                // Orbit Moon around Earth\n                moonOrbitGroup.rotation.y += MOON_ORBIT_SPEED * speedMultiplier;\n                \n                // Rotate Moon on its axis (tidally locked - same as orbital period)\n                moon.rotation.y += MOON_ORBIT_SPEED * speedMultiplier;\n                \n                renderer.render(scene, camera);\n            }\n        }\n        \n        // Control functions\n        function toggleAnimation() {\n            isAnimating = !isAnimating;\n            if (isAnimating) {\n                animate();\n            } else {\n                cancelAnimationFrame(animationId);\n            }\n        }\n        \n        function resetView() {\n            camera.position.set(0, 10, 25);\n            camera.lookAt(0, 0, 0);\n        }\n        \n        function updateSpeed(value) {\n            speedMultiplier = parseFloat(value);\n            document.getElementById('speedValue').textContent = value + 'x';\n        }\n        \n        // Handle window resize\n        window.addEventListener('resize', () => {\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n        });\n        \n        // Initialize the scene when the page loads\n        init();\n    </script>\n</body>\n</html>\n```\n\nI've created a complete HTML file named `solar_system.html` with a Three.js solar system simulation that includes:\n\n**Key Features:**\n- **Sun**: Yellow sphere at the center with emissive glow\n- **Earth**: Blue sphere orbiting the sun with realistic proportions\n- **Moon**: Gray sphere orbiting Earth\n- **Stars**: Randomly distributed background stars for a space environment\n- **Realistic orbital mechanics**: Earth orbits the sun, moon orbits Earth\n- **Shadows and lighting**: Point light from the sun creates realistic shadows\n\n**Interactive Controls:**\n- **Mouse drag**: Rotate the camera around the solar system\n- **Mouse wheel**: Zoom in and out\n- **Pause/Resume button**: Stop or start the animation\n- **Reset View button**: Return to default camera position\n- **Speed slider**: Adjust animation speed from 0.1x to 5x\n\n**Technical Details:**\n- Self-contained HTML file using Three.js from CDN\n- Proper orbital groups for realistic movement\n- Responsive design that adapts to window size\n- Smooth animations with requestAnimationFrame\n- Shadow mapping for realistic lighting effects\n\nThe simulation uses scaled orbital speeds for visual appeal - the moon orbits faster than realistic to make the motion clearly visible. You can save this code as `solar_system.html` and open it in any modern web browser to see the animated solar system!",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 40.06568717956543,
    "status": "success",
    "timestamp": "2025-08-29 17:23:06"
  },
  {
    "test_name": "particle_system_simulation",
    "prompt": "Create a complete HTML file with Three.js that displays an animated particle system. The particles should move in interesting patterns (like a fountain, explosion, or flowing stream), change colors over time, and respond to mouse movement. Include at least 1000 particles with realistic physics. The HTML should be self-contained with Three.js from CDN. Save the output as 'particle_system.html'.",
    "response": "I'll create a comprehensive particle system with Three.js that includes multiple effects and interactive mouse controls. Here's the complete HTML file:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Advanced Particle System</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);\n            font-family: Arial, sans-serif;\n        }\n        \n        canvas {\n            display: block;\n            cursor: crosshair;\n        }\n        \n        .controls {\n            position: absolute;\n            top: 20px;\n            left: 20px;\n            color: white;\n            z-index: 100;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 15px;\n            border-radius: 10px;\n            font-size: 14px;\n        }\n        \n        .controls button {\n            background: rgba(255, 255, 255, 0.2);\n            border: 1px solid rgba(255, 255, 255, 0.3);\n            color: white;\n            padding: 8px 15px;\n            margin: 5px;\n            border-radius: 5px;\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n        \n        .controls button:hover {\n            background: rgba(255, 255, 255, 0.4);\n            transform: scale(1.05);\n        }\n        \n        .controls button.active {\n            background: rgba(100, 200, 255, 0.6);\n            border-color: rgba(100, 200, 255, 0.8);\n        }\n        \n        .info {\n            position: absolute;\n            bottom: 20px;\n            right: 20px;\n            color: rgba(255, 255, 255, 0.7);\n            background: rgba(0, 0, 0, 0.5);\n            padding: 10px;\n            border-radius: 5px;\n            font-size: 12px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"controls\">\n        <div><strong>Particle Effects</strong></div>\n        <button id=\"fountain\" class=\"active\">Fountain</button>\n        <button id=\"explosion\">Explosion</button>\n        <button id=\"flow\">Flow Stream</button>\n        <button id=\"spiral\">Spiral</button>\n        <br>\n        <div style=\"margin-top: 10px;\">Move mouse to interact!</div>\n    </div>\n    \n    <div class=\"info\">\n        <div>Particles: <span id=\"particleCount\">2000</span></div>\n        <div>FPS: <span id=\"fps\">60</span></div>\n    </div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script>\n        // Global variables\n        let scene, camera, renderer, particles;\n        let particleSystem, particleGeometry, particleMaterial;\n        let mouse = new THREE.Vector2();\n        let mouseInfluence = new THREE.Vector3();\n        let currentEffect = 'fountain';\n        let time = 0;\n        \n        // Particle properties\n        const PARTICLE_COUNT = 2000;\n        const particlePositions = new Float32Array(PARTICLE_COUNT * 3);\n        const particleVelocities = new Float32Array(PARTICLE_COUNT * 3);\n        const particleColors = new Float32Array(PARTICLE_COUNT * 3);\n        const particleLifetimes = new Float32Array(PARTICLE_COUNT);\n        const particleSizes = new Float32Array(PARTICLE_COUNT);\n        \n        // Physics constants\n        const GRAVITY = -0.008;\n        const DAMPING = 0.98;\n        const MOUSE_FORCE = 0.5;\n        const MOUSE_RADIUS = 5.0;\n        \n        // FPS counter\n        let frameCount = 0;\n        let lastTime = Date.now();\n\n        function init() {\n            // Create scene\n            scene = new THREE.Scene();\n            \n            // Create camera\n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n            camera.position.set(0, 5, 15);\n            camera.lookAt(0, 0, 0);\n            \n            // Create renderer\n            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.setClearColor(0x000000, 0);\n            document.body.appendChild(renderer.domElement);\n            \n            // Initialize particles\n            initParticles();\n            \n            // Event listeners\n            setupEventListeners();\n            \n            // Start animation\n            animate();\n        }\n        \n        function initParticles() {\n            // Create geometry\n            particleGeometry = new THREE.BufferGeometry();\n            \n            // Initialize particle data\n            resetParticles();\n            \n            // Set geometry attributes\n            particleGeometry.setAttribute('position', new THREE.BufferAttribute(particlePositions, 3));\n            particleGeometry.setAttribute('color', new THREE.BufferAttribute(particleColors, 3));\n            particleGeometry.setAttribute('size', new THREE.BufferAttribute(particleSizes, 1));\n            \n            // Create material\n            particleMaterial = new THREE.ShaderMaterial({\n                uniforms: {\n                    time: { value: 0.0 }\n                },\n                vertexShader: `\n                    attribute float size;\n                    attribute vec3 color;\n                    varying vec3 vColor;\n                    uniform float time;\n                    \n                    void main() {\n                        vColor = color;\n                        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n                        float pulseFactor = 1.0 + 0.3 * sin(time * 3.0 + position.x * 0.1);\n                        gl_PointSize = size * (300.0 / -mvPosition.z) * pulseFactor;\n                        gl_Position = projectionMatrix * mvPosition;\n                    }\n                `,\n                fragmentShader: `\n                    varying vec3 vColor;\n                    \n                    void main() {\n                        float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n                        float alpha = 1.0 - smoothstep(0.0, 0.5, distanceToCenter);\n                        \n                        // Create a glowing effect\n                        float glow = 0.3 / distanceToCenter;\n                        alpha += glow * 0.1;\n                        \n                        gl_FragColor = vec4(vColor, alpha);\n                    }\n                `,\n                transparent: true,\n                blending: THREE.AdditiveBlending,\n                depthWrite: false\n            });\n            \n            // Create particle system\n            particleSystem = new THREE.Points(particleGeometry, particleMaterial);\n            scene.add(particleSystem);\n        }\n        \n        function resetParticles() {\n            for (let i = 0; i < PARTICLE_COUNT; i++) {\n                const i3 = i * 3;\n                \n                // Position\n                particlePositions[i3] = (Math.random() - 0.5) * 2;\n                particlePositions[i3 + 1] = Math.random() * 2 - 1;\n                particlePositions[i3 + 2] = (Math.random() - 0.5) * 2;\n                \n                // Velocity\n                particleVelocities[i3] = (Math.random() - 0.5) * 0.1;\n                particleVelocities[i3 + 1] = Math.random() * 0.2;\n                particleVelocities[i3 + 2] = (Math.random() - 0.5) * 0.1;\n                \n                // Color (HSL to RGB conversion for rainbow effect)\n                const hue = Math.random();\n                const color = new THREE.Color().setHSL(hue, 0.8, 0.6);\n                particleColors[i3] = color.r;\n                particleColors[i3 + 1] = color.g;\n                particleColors[i3 + 2] = color.b;\n                \n                // Lifetime and size\n                particleLifetimes[i] = Math.random() * 100 + 50;\n                particleSizes[i] = Math.random() * 8 + 2;\n            }\n        }\n        \n        function updateParticles() {\n            time += 0.016;\n            \n            for (let i = 0; i < PARTICLE_COUNT; i++) {\n                const i3 = i * 3;\n                \n                // Get current position and velocity\n                let x = particlePositions[i3];\n                let y = particlePositions[i3 + 1];\n                let z = particlePositions[i3 + 2];\n                let vx = particleVelocities[i3];\n                let vy = particleVelocities[i3 + 1];\n                let vz = particleVelocities[i3 + 2];\n                \n                // Apply different effects based on current mode\n                switch (currentEffect) {\n                    case 'fountain':\n                        updateFountainParticle(i, i3);\n                        break;\n                    case 'explosion':\n                        updateExplosionParticle(i, i3);\n                        break;\n                    case 'flow':\n                        updateFlowParticle(i, i3);\n                        break;\n                    case 'spiral':\n                        updateSpiralParticle(i, i3);\n                        break;\n                }\n                \n                // Mouse interaction\n                const mouseDistance = Math.sqrt(\n                    Math.pow(x - mouseInfluence.x, 2) + \n                    Math.pow(y - mouseInfluence.y, 2) + \n                    Math.pow(z - mouseInfluence.z, 2)\n                );\n                \n                if (mouseDistance < MOUSE_RADIUS) {\n                    const force = (MOUSE_RADIUS - mouseDistance) / MOUSE_RADIUS * MOUSE_FORCE;\n                    const dx = (x - mouseInfluence.x) / mouseDistance;\n                    const dy = (y - mouseInfluence.y) / mouseDistance;\n                    const dz = (z - mouseInfluence.z) / mouseDistance;\n                    \n                    particleVelocities[i3] += dx * force;\n                    particleVelocities[i3 + 1] += dy * force;\n                    particleVelocities[i3 + 2] += dz * force;\n                }\n                \n                // Update color over time for rainbow effect\n                const colorTime = time * 0.5 + i * 0.01;\n                const hue = (Math.sin(colorTime) + 1) * 0.5;\n                const color = new THREE.Color().setHSL(hue, 0.8, 0.6 + 0.3 * Math.sin(time + i * 0.1));\n                particleColors[i3] = color.r;\n                particleColors[i3 + 1] = color.g;\n                particleColors[i3 + 2] = color.b;\n                \n                // Update lifetime\n                particleLifetimes[i] -= 1;\n                if (particleLifetimes[i] <= 0) {\n                    respawnParticle(i, i3);\n                }\n            }\n            \n            // Update geometry\n            particleGeometry.attributes.position.needsUpdate = true;\n            particleGeometry.attributes.color.needsUpdate = true;\n            particleGeometry.attributes.size.needsUpdate = true;\n            \n            // Update shader time\n            particleMaterial.uniforms.time.value = time;\n        }\n        \n        function updateFountainParticle(i, i3) {\n            // Apply gravity\n            particleVelocities[i3 + 1] += GRAVITY;\n            \n            // Apply damping\n            particleVelocities[i3] *= DAMPING;\n            particleVelocities[i3 + 2] *= DAMPING;\n            \n            // Update position\n            particlePositions[i3] += particleVelocities[i3];\n            particlePositions[i3 + 1] += particleVelocities[i3 + 1];\n            particlePositions[i3 + 2] += particleVelocities[i3 + 2];\n            \n            // Reset if particle falls too low\n            if (particlePositions[i3 + 1] < -8) {\n                respawnParticle(i, i3);\n            }\n        }\n        \n        function updateExplosionParticle(i, i3) {\n            // Radial explosion force\n            const explosionForce = 0.02;\n            const centerDistance = Math.sqrt(\n                particlePositions[i3] ** 2 + \n                particlePositions[i3 + 1] ** 2 + \n                particlePositions[i3 + 2] ** 2\n            );\n            \n            if (centerDistance > 0) {\n                particleVelocities[i3] += (particlePositions[i3] / centerDistance) * explosionForce;\n                particleVelocities[i3 + 1] += (particlePositions[i3 + 1] / centerDistance) * explosionForce;\n                particleVelocities[i3 + 2] += (particlePositions[i3 + 2] / centerDistance) * explosionForce;\n            }\n            \n            // Apply slight gravity and damping\n            particleVelocities[i3 + 1] += GRAVITY * 0.5;\n            particleVelocities[i3] *= 0.995;\n            particleVelocities[i3 + 1] *= 0.995;\n            particleVelocities[i3 + 2] *= 0.995;\n            \n            // Update position\n            particlePositions[i3] += particleVelocities[i3];\n            particlePositions[i3 + 1] += particleVelocities[i3 + 1];\n            particlePositions[i3 + 2] += particleVelocities[i3 + 2];\n        }\n        \n        function updateFlowParticle(i, i3) {\n            // Flowing stream with sine wave motion\n            const flowSpeed = 0.05;\n            const waveAmplitude = 2;\n            const waveFrequency = 0.02;\n            \n            particleVelocities[i3] = Math.sin(particlePositions[i3 + 2] * waveFrequency + time) * waveAmplitude * 0.01;\n            particleVelocities[i3 + 1] += GRAVITY * 0.3;\n            particleVelocities[i3 + 2] = flowSpeed;\n            \n            // Update position\n            particlePositions[i3] += particleVelocities[i3];\n            particlePositions[i3 + 1] += particleVelocities[i3 + 1];\n            particlePositions[i3 + 2] += particleVelocities[i3 + 2];\n            \n            // Reset if particle moves too far\n            if (particlePositions[i3 + 2] > 15) {\n                particlePositions[i3 + 2] = -15;\n                particlePositions[i3 + 1] = Math.random() *",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 46.54683494567871,
    "status": "success",
    "timestamp": "2025-08-29 17:23:52"
  },
  {
    "test_name": "terrain_simulation",
    "prompt": "Create a complete HTML file with Three.js that generates and displays a 3D terrain landscape. The terrain should have hills and valleys using noise or height maps, include realistic texturing (grass, rock, etc.), and allow the user to fly through the scene with keyboard controls (WASD). Add fog effects for depth. The HTML should be self-contained with Three.js from CDN. Save the output as 'terrain_landscape.html'.",
    "response": "I'll create a complete HTML file with Three.js that generates a 3D terrain landscape with all the features you requested. Here's the implementation:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>3D Terrain Landscape</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            background: linear-gradient(to bottom, #87CEEB, #98FB98);\n            font-family: Arial, sans-serif;\n        }\n        \n        #container {\n            width: 100vw;\n            height: 100vh;\n        }\n        \n        #instructions {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            color: white;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 15px;\n            border-radius: 5px;\n            z-index: 100;\n            font-size: 14px;\n            line-height: 1.5;\n        }\n        \n        #loading {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            color: white;\n            font-size: 18px;\n            z-index: 1000;\n            background: rgba(0, 0, 0, 0.8);\n            padding: 20px;\n            border-radius: 10px;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"container\"></div>\n    <div id=\"instructions\">\n        <strong>Controls:</strong><br>\n        WASD - Move around<br>\n        Mouse - Look around<br>\n        Shift - Move faster<br>\n        Space - Move up<br>\n        C - Move down\n    </div>\n    <div id=\"loading\">Loading terrain...</div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    \n    <script>\n        // Scene setup\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer({ antialias: true });\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.setClearColor(0x87CEEB);\n        renderer.shadowMap.enabled = true;\n        renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        document.getElementById('container').appendChild(renderer.domElement);\n\n        // Add fog for depth\n        scene.fog = new THREE.Fog(0x87CEEB, 50, 300);\n\n        // Lighting\n        const ambientLight = new THREE.AmbientLight(0x404040, 0.6);\n        scene.add(ambientLight);\n\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);\n        directionalLight.position.set(100, 100, 50);\n        directionalLight.castShadow = true;\n        directionalLight.shadow.mapSize.width = 2048;\n        directionalLight.shadow.mapSize.height = 2048;\n        directionalLight.shadow.camera.near = 0.5;\n        directionalLight.shadow.camera.far = 500;\n        directionalLight.shadow.camera.left = -200;\n        directionalLight.shadow.camera.right = 200;\n        directionalLight.shadow.camera.top = 200;\n        directionalLight.shadow.camera.bottom = -200;\n        scene.add(directionalLight);\n\n        // Simple noise function for terrain generation\n        function noise(x, y) {\n            const n = Math.sin(x * 0.1) * Math.cos(y * 0.1) * 10 +\n                     Math.sin(x * 0.05) * Math.cos(y * 0.05) * 20 +\n                     Math.sin(x * 0.02) * Math.cos(y * 0.02) * 30 +\n                     Math.random() * 2;\n            return n;\n        }\n\n        // Create terrain geometry\n        function createTerrain() {\n            const width = 200;\n            const height = 200;\n            const widthSegments = 100;\n            const heightSegments = 100;\n\n            const geometry = new THREE.PlaneGeometry(width, height, widthSegments, heightSegments);\n            \n            // Apply height map using noise\n            const vertices = geometry.attributes.position.array;\n            \n            for (let i = 0; i < vertices.length; i += 3) {\n                const x = vertices[i];\n                const y = vertices[i + 1];\n                vertices[i + 2] = noise(x, y);\n            }\n            \n            geometry.attributes.position.needsUpdate = true;\n            geometry.computeVertexNormals();\n\n            return geometry;\n        }\n\n        // Create terrain materials\n        function createTerrainMaterial() {\n            // Create textures using canvas\n            const grassCanvas = document.createElement('canvas');\n            grassCanvas.width = grassCanvas.height = 256;\n            const grassCtx = grassCanvas.getContext('2d');\n            \n            // Grass texture\n            const grassGradient = grassCtx.createLinearGradient(0, 0, 256, 256);\n            grassGradient.addColorStop(0, '#228B22');\n            grassGradient.addColorStop(1, '#32CD32');\n            grassCtx.fillStyle = grassGradient;\n            grassCtx.fillRect(0, 0, 256, 256);\n            \n            // Add noise to grass\n            for (let i = 0; i < 1000; i++) {\n                grassCtx.fillStyle = `rgba(${Math.random() * 100 + 100}, ${Math.random() * 150 + 100}, 50, 0.3)`;\n                grassCtx.fillRect(Math.random() * 256, Math.random() * 256, 2, 2);\n            }\n\n            const rockCanvas = document.createElement('canvas');\n            rockCanvas.width = rockCanvas.height = 256;\n            const rockCtx = rockCanvas.getContext('2d');\n            \n            // Rock texture\n            const rockGradient = rockCtx.createRadialGradient(128, 128, 0, 128, 128, 128);\n            rockGradient.addColorStop(0, '#8B7355');\n            rockGradient.addColorStop(1, '#A0522D');\n            rockCtx.fillStyle = rockGradient;\n            rockCtx.fillRect(0, 0, 256, 256);\n            \n            // Add noise to rock\n            for (let i = 0; i < 2000; i++) {\n                rockCtx.fillStyle = `rgba(${Math.random() * 50 + 100}, ${Math.random() * 30 + 80}, ${Math.random() * 20 + 60}, 0.5)`;\n                rockCtx.fillRect(Math.random() * 256, Math.random() * 256, 1, 1);\n            }\n\n            const grassTexture = new THREE.CanvasTexture(grassCanvas);\n            const rockTexture = new THREE.CanvasTexture(rockCanvas);\n            \n            grassTexture.wrapS = grassTexture.wrapT = THREE.RepeatWrapping;\n            grassTexture.repeat.set(10, 10);\n            \n            rockTexture.wrapS = rockTexture.wrapT = THREE.RepeatWrapping;\n            rockTexture.repeat.set(5, 5);\n\n            // Create material with vertex colors for blending\n            const material = new THREE.ShaderMaterial({\n                vertexShader: `\n                    varying vec2 vUv;\n                    varying vec3 vPosition;\n                    varying vec3 vNormal;\n                    \n                    void main() {\n                        vUv = uv;\n                        vPosition = position;\n                        vNormal = normal;\n                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    }\n                `,\n                fragmentShader: `\n                    uniform sampler2D grassTexture;\n                    uniform sampler2D rockTexture;\n                    varying vec2 vUv;\n                    varying vec3 vPosition;\n                    varying vec3 vNormal;\n                    \n                    void main() {\n                        vec3 grass = texture2D(grassTexture, vUv).rgb;\n                        vec3 rock = texture2D(rockTexture, vUv).rgb;\n                        \n                        float slope = 1.0 - abs(vNormal.z);\n                        float height = (vPosition.z + 30.0) / 60.0;\n                        \n                        vec3 color = mix(grass, rock, slope * 0.7 + height * 0.3);\n                        \n                        gl_FragColor = vec4(color, 1.0);\n                    }\n                `,\n                uniforms: {\n                    grassTexture: { value: grassTexture },\n                    rockTexture: { value: rockTexture }\n                }\n            });\n\n            return material;\n        }\n\n        // Create terrain mesh\n        const terrainGeometry = createTerrain();\n        const terrainMaterial = createTerrainMaterial();\n        const terrain = new THREE.Mesh(terrainGeometry, terrainMaterial);\n        terrain.rotation.x = -Math.PI / 2;\n        terrain.receiveShadow = true;\n        scene.add(terrain);\n\n        // Add some trees/vegetation\n        function createTree() {\n            const trunk = new THREE.CylinderGeometry(0.5, 0.8, 5, 8);\n            const leaves = new THREE.SphereGeometry(3, 8, 6);\n            \n            const trunkMaterial = new THREE.MeshLambertMaterial({ color: 0x8B4513 });\n            const leavesMaterial = new THREE.MeshLambertMaterial({ color: 0x228B22 });\n            \n            const trunkMesh = new THREE.Mesh(trunk, trunkMaterial);\n            const leavesMesh = new THREE.Mesh(leaves, leavesMaterial);\n            \n            leavesMesh.position.y = 5;\n            \n            const tree = new THREE.Group();\n            tree.add(trunkMesh);\n            tree.add(leavesMesh);\n            \n            return tree;\n        }\n\n        // Add random trees\n        for (let i = 0; i < 30; i++) {\n            const tree = createTree();\n            const x = (Math.random() - 0.5) * 180;\n            const z = (Math.random() - 0.5) * 180;\n            const y = noise(x, z) + 2.5;\n            \n            tree.position.set(x, y, z);\n            tree.scale.set(\n                0.5 + Math.random() * 0.5,\n                0.8 + Math.random() * 0.4,\n                0.5 + Math.random() * 0.5\n            );\n            tree.rotation.y = Math.random() * Math.PI * 2;\n            scene.add(tree);\n        }\n\n        // Camera controls\n        camera.position.set(0, 30, 50);\n        let moveForward = false;\n        let moveBackward = false;\n        let moveLeft = false;\n        let moveRight = false;\n        let moveUp = false;\n        let moveDown = false;\n        let speedBoost = false;\n\n        const velocity = new THREE.Vector3();\n        const direction = new THREE.Vector3();\n\n        // Mouse controls for looking around\n        let mouseX = 0;\n        let mouseY = 0;\n        let isMouseDown = false;\n\n        document.addEventListener('mousedown', (event) => {\n            isMouseDown = true;\n            document.body.style.cursor = 'none';\n        });\n\n        document.addEventListener('mouseup', () => {\n            isMouseDown = false;\n            document.body.style.cursor = 'default';\n        });\n\n        document.addEventListener('mousemove', (event) => {\n            if (isMouseDown) {\n                mouseX = (event.clientX / window.innerWidth) * 2 - 1;\n                mouseY = -(event.clientY / window.innerHeight) * 2 + 1;\n                \n                camera.rotation.y -= event.movementX * 0.002;\n                camera.rotation.x -= event.movementY * 0.002;\n                camera.rotation.x = Math.max(-Math.PI/2, Math.min(Math.PI/2, camera.rotation.x));\n            }\n        });\n\n        // Keyboard controls\n        document.addEventListener('keydown', (event) => {\n            switch (event.code) {\n                case 'KeyW':\n                    moveForward = true;\n                    break;\n                case 'KeyS':\n                    moveBackward = true;\n                    break;\n                case 'KeyA':\n                    moveLeft = true;\n                    break;\n                case 'KeyD':\n                    moveRight = true;\n                    break;\n                case 'Space':\n                    event.preventDefault();\n                    moveUp = true;\n                    break;\n                case 'KeyC':\n                    moveDown = true;\n                    break;\n                case 'ShiftLeft':\n                case 'ShiftRight':\n                    speedBoost = true;\n                    break;\n            }\n        });\n\n        document.addEventListener('keyup', (event) => {\n            switch (event.code) {\n                case 'KeyW':\n                    moveForward = false;\n                    break;\n                case 'KeyS':\n                    moveBackward = false;\n                    break;\n                case 'KeyA':\n                    moveLeft = false;\n                    break;\n                case 'KeyD':\n                    moveRight = false;\n                    break;\n                case 'Space':\n                    moveUp = false;\n                    break;\n                case 'KeyC':\n                    moveDown = false;\n                    break;\n                case 'ShiftLeft':\n                case 'ShiftRight':\n                    speedBoost = false;\n                    break;\n            }\n        });\n\n        // Handle window resize\n        window.addEventListener('resize', () => {\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n        });\n\n        // Animation loop\n        function animate() {\n            requestAnimationFrame(animate);\n\n            // Movement\n            direction.z = Number(moveForward) - Number(moveBackward);\n            direction.x = Number(moveRight) - Number(moveLeft);\n            direction.y = Number(moveUp) - Number(moveDown);\n            direction.normalize();\n\n            const speed = speedBoost ? 2.0 : 0.8;\n\n            if (moveForward || moveBackward) {\n                velocity.z -= direction.z * speed;\n            }\n            if (moveLeft || moveRight) {\n                velocity.x -= direction.x * speed;\n            }\n            if (moveUp || moveDown) {\n                velocity.y += direction.y * speed;\n            }\n\n            // Apply movement relative to camera rotation\n            const forward = new THREE.Vector3(0, 0, -1);\n            const right = new THREE.Vector3(1, 0, 0);\n            \n            forward.applyQuaternion(camera.quaternion);\n            right.applyQuaternion(camera.quaternion);\n\n            if (moveForward) camera.position.add(forward.multiplyScalar(speed));\n            if (moveBackward) camera.position.sub(forward.multiplyScalar(speed));\n            if (moveRight) camera.position.add(right.multiplyScalar(speed));\n            if (moveLeft) camera.position.sub(right.multiplyScalar(speed));\n            if (moveUp) camera.position.y += speed;\n            if (moveDown) camera.",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 48.9102578163147,
    "status": "success",
    "timestamp": "2025-08-29 17:24:41"
  },
  {
    "test_name": "interactive_solar_system",
    "prompt": "Create a complete HTML file with Three.js that builds an interactive 3D solar system with textured planets, axial rotation, elliptical orbits, adjustable time speed, and click-to-reveal planet facts. Include orbit lines, lighting from a sun mesh, and responsive camera controls. The HTML file should be self-contained with Three.js loaded from CDN and include all textures as data URLs or procedural materials. Save the output as 'interactive_solar_system.html'.",
    "response": "I'll create a complete interactive 3D solar system with Three.js. This will include all the features you requested with procedural textures and data URLs.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Interactive 3D Solar System</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            background: #000;\n            font-family: Arial, sans-serif;\n        }\n        \n        canvas {\n            display: block;\n        }\n        \n        .ui-container {\n            position: absolute;\n            top: 20px;\n            left: 20px;\n            z-index: 100;\n            color: white;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 15px;\n            border-radius: 10px;\n            backdrop-filter: blur(5px);\n        }\n        \n        .controls {\n            margin-bottom: 15px;\n        }\n        \n        .control-group {\n            margin-bottom: 10px;\n        }\n        \n        label {\n            display: block;\n            margin-bottom: 5px;\n            font-size: 14px;\n        }\n        \n        input[type=\"range\"] {\n            width: 200px;\n            margin-bottom: 5px;\n        }\n        \n        .planet-info {\n            position: absolute;\n            top: 50%;\n            right: 20px;\n            transform: translateY(-50%);\n            z-index: 100;\n            color: white;\n            background: rgba(0, 0, 0, 0.8);\n            padding: 20px;\n            border-radius: 10px;\n            max-width: 300px;\n            display: none;\n            backdrop-filter: blur(5px);\n        }\n        \n        .planet-info h2 {\n            margin-top: 0;\n            color: #ffd700;\n        }\n        \n        .close-btn {\n            position: absolute;\n            top: 10px;\n            right: 15px;\n            background: none;\n            border: none;\n            color: white;\n            font-size: 20px;\n            cursor: pointer;\n        }\n        \n        .instructions {\n            margin-top: 15px;\n            font-size: 12px;\n            opacity: 0.8;\n        }\n        \n        .value-display {\n            color: #ffd700;\n            font-weight: bold;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"ui-container\">\n        <div class=\"controls\">\n            <div class=\"control-group\">\n                <label for=\"timeSpeed\">Time Speed: <span id=\"speedValue\" class=\"value-display\">1.0x</span></label>\n                <input type=\"range\" id=\"timeSpeed\" min=\"0\" max=\"5\" step=\"0.1\" value=\"1\">\n            </div>\n            <div class=\"control-group\">\n                <label for=\"showOrbits\">\n                    <input type=\"checkbox\" id=\"showOrbits\" checked> Show Orbit Lines\n                </label>\n            </div>\n        </div>\n        <div class=\"instructions\">\n            Click on planets to see details<br>\n            Mouse: Rotate view | Wheel: Zoom<br>\n            Right-click & drag: Pan\n        </div>\n    </div>\n    \n    <div class=\"planet-info\" id=\"planetInfo\">\n        <button class=\"close-btn\" id=\"closeInfo\">&times;</button>\n        <h2 id=\"planetName\"></h2>\n        <div id=\"planetDetails\"></div>\n    </div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js\"></script>\n    \n    <script>\n        // Scene setup\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000);\n        const renderer = new THREE.WebGLRenderer({ antialias: true });\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.shadowMap.enabled = true;\n        renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        document.body.appendChild(renderer.domElement);\n\n        // Controls\n        const controls = new THREE.OrbitControls(camera, renderer.domElement);\n        controls.enableDamping = true;\n        controls.dampingFactor = 0.1;\n        controls.minDistance = 10;\n        controls.maxDistance = 1000;\n\n        // Variables\n        let timeSpeed = 1.0;\n        let showOrbits = true;\n        const planets = [];\n        const orbitLines = [];\n        const raycaster = new THREE.Raycaster();\n        const mouse = new THREE.Vector2();\n\n        // Planet data\n        const planetData = {\n            mercury: {\n                name: \"Mercury\",\n                radius: 0.38,\n                distance: 15,\n                speed: 4.15,\n                rotationSpeed: 0.017,\n                color: 0x8c7853,\n                facts: \"Closest planet to the Sun. Has extreme temperature variations. One day on Mercury equals 59 Earth days.\"\n            },\n            venus: {\n                name: \"Venus\",\n                radius: 0.95,\n                distance: 22,\n                speed: 1.62,\n                rotationSpeed: -0.004,\n                color: 0xffc649,\n                facts: \"Hottest planet in our solar system due to greenhouse effect. Rotates backwards. One day equals 243 Earth days.\"\n            },\n            earth: {\n                name: \"Earth\",\n                radius: 1.0,\n                distance: 30,\n                speed: 1.0,\n                rotationSpeed: 0.1,\n                color: 0x6b93d6,\n                facts: \"Our home planet. Only known planet with life. Has one moon. 71% of surface is covered by water.\"\n            },\n            mars: {\n                name: \"Mars\",\n                radius: 0.53,\n                distance: 40,\n                speed: 0.53,\n                rotationSpeed: 0.097,\n                color: 0xc1440e,\n                facts: \"Known as the Red Planet. Has two small moons. Evidence suggests it once had liquid water on its surface.\"\n            },\n            jupiter: {\n                name: \"Jupiter\",\n                radius: 2.5,\n                distance: 65,\n                speed: 0.084,\n                rotationSpeed: 0.24,\n                color: 0xd8ca9d,\n                facts: \"Largest planet in our solar system. Has over 80 moons. Great Red Spot is a storm larger than Earth.\"\n            },\n            saturn: {\n                name: \"Saturn\",\n                radius: 2.1,\n                distance: 85,\n                speed: 0.034,\n                rotationSpeed: 0.22,\n                color: 0xfad5a5,\n                facts: \"Famous for its prominent ring system. Less dense than water. Has 83 confirmed moons including Titan.\"\n            },\n            uranus: {\n                name: \"Uranus\",\n                radius: 1.4,\n                distance: 110,\n                speed: 0.012,\n                rotationSpeed: 0.14,\n                color: 0x4fd0e7,\n                facts: \"Rotates on its side at 98\u00b0 angle. Has faint rings. Coldest planetary atmosphere in the solar system.\"\n            },\n            neptune: {\n                name: \"Neptune\",\n                radius: 1.4,\n                distance: 135,\n                speed: 0.006,\n                rotationSpeed: 0.15,\n                color: 0x4b70dd,\n                facts: \"Windiest planet with speeds up to 2,100 km/h. Takes 165 Earth years to orbit the Sun. Has 14 known moons.\"\n            }\n        };\n\n        // Create procedural textures\n        function createPlanetTexture(color, radius) {\n            const canvas = document.createElement('canvas');\n            canvas.width = 512;\n            canvas.height = 512;\n            const context = canvas.getContext('2d');\n            \n            // Create gradient\n            const gradient = context.createLinearGradient(0, 0, canvas.width, canvas.height);\n            gradient.addColorStop(0, `#${color.toString(16).padStart(6, '0')}`);\n            gradient.addColorStop(0.5, `#${Math.floor(color * 0.8).toString(16).padStart(6, '0')}`);\n            gradient.addColorStop(1, `#${Math.floor(color * 0.6).toString(16).padStart(6, '0')}`);\n            \n            context.fillStyle = gradient;\n            context.fillRect(0, 0, canvas.width, canvas.height);\n            \n            // Add some texture noise\n            for (let i = 0; i < 1000; i++) {\n                context.fillStyle = `rgba(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255}, 0.1)`;\n                context.fillRect(Math.random() * canvas.width, Math.random() * canvas.height, 2, 2);\n            }\n            \n            return new THREE.CanvasTexture(canvas);\n        }\n\n        function createSunTexture() {\n            const canvas = document.createElement('canvas');\n            canvas.width = 512;\n            canvas.height = 512;\n            const context = canvas.getContext('2d');\n            \n            // Create radial gradient for sun\n            const gradient = context.createRadialGradient(256, 256, 0, 256, 256, 256);\n            gradient.addColorStop(0, '#ffff00');\n            gradient.addColorStop(0.3, '#ffaa00');\n            gradient.addColorStop(0.6, '#ff6600');\n            gradient.addColorStop(1, '#cc3300');\n            \n            context.fillStyle = gradient;\n            context.fillRect(0, 0, canvas.width, canvas.height);\n            \n            // Add solar flares\n            for (let i = 0; i < 50; i++) {\n                context.fillStyle = `rgba(255, 255, 0, ${Math.random() * 0.3})`;\n                context.beginPath();\n                context.arc(Math.random() * canvas.width, Math.random() * canvas.height, Math.random() * 20, 0, Math.PI * 2);\n                context.fill();\n            }\n            \n            return new THREE.CanvasTexture(canvas);\n        }\n\n        // Create sun\n        const sunGeometry = new THREE.SphereGeometry(5, 32, 32);\n        const sunMaterial = new THREE.MeshBasicMaterial({ \n            map: createSunTexture(),\n            emissive: 0x444400\n        });\n        const sun = new THREE.Mesh(sunGeometry, sunMaterial);\n        scene.add(sun);\n\n        // Add sun light\n        const sunLight = new THREE.PointLight(0xffffff, 2, 2000);\n        sunLight.position.set(0, 0, 0);\n        sunLight.castShadow = true;\n        sunLight.shadow.mapSize.width = 2048;\n        sunLight.shadow.mapSize.height = 2048;\n        scene.add(sunLight);\n\n        // Ambient light\n        const ambientLight = new THREE.AmbientLight(0x404040, 0.2);\n        scene.add(ambientLight);\n\n        // Create planets\n        Object.entries(planetData).forEach(([key, data]) => {\n            // Planet geometry and material\n            const geometry = new THREE.SphereGeometry(data.radius, 32, 32);\n            const texture = createPlanetTexture(data.color, data.radius);\n            const material = new THREE.MeshLambertMaterial({ \n                map: texture,\n                transparent: true,\n                opacity: 0.9\n            });\n            \n            const planet = new THREE.Mesh(geometry, material);\n            planet.userData = { ...data, key };\n            planet.position.x = data.distance;\n            planet.castShadow = true;\n            planet.receiveShadow = true;\n            \n            // Add planet to scene\n            scene.add(planet);\n            planets.push({\n                mesh: planet,\n                data: data,\n                angle: Math.random() * Math.PI * 2,\n                ellipseA: data.distance,\n                ellipseB: data.distance * 0.95 // Slight ellipse\n            });\n            \n            // Create orbit line\n            const orbitGeometry = new THREE.RingGeometry(data.distance - 0.1, data.distance + 0.1, 64);\n            const orbitMaterial = new THREE.MeshBasicMaterial({ \n                color: 0x444444, \n                side: THREE.DoubleSide,\n                transparent: true,\n                opacity: 0.3\n            });\n            const orbitLine = new THREE.Mesh(orbitGeometry, orbitMaterial);\n            orbitLine.rotation.x = Math.PI / 2;\n            scene.add(orbitLine);\n            orbitLines.push(orbitLine);\n        });\n\n        // Add Saturn's rings\n        const saturnPlanet = planets.find(p => p.data.name === 'Saturn');\n        if (saturnPlanet) {\n            const ringGeometry = new THREE.RingGeometry(saturnPlanet.data.radius * 1.2, saturnPlanet.data.radius * 2, 32);\n            const ringMaterial = new THREE.MeshLambertMaterial({ \n                color: 0xcccccc,\n                transparent: true,\n                opacity: 0.6,\n                side: THREE.DoubleSide\n            });\n            const rings = new THREE.Mesh(ringGeometry, ringMaterial);\n            rings.rotation.x = Math.PI / 2;\n            saturnPlanet.mesh.add(rings);\n        }\n\n        // Create starfield\n        const starsGeometry = new THREE.BufferGeometry();\n        const starsVertices = [];\n        for (let i = 0; i < 10000; i++) {\n            starsVertices.push(\n                (Math.random() - 0.5) * 4000,\n                (Math.random() - 0.5) * 4000,\n                (Math.random() - 0.5) * 4000\n            );\n        }\n        starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));\n        const starsMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 2 });\n        const stars = new THREE.Points(starsGeometry, starsMaterial);\n        scene.add(stars);\n\n        // Event listeners\n        document.getElementById('timeSpeed').addEventListener('input', (e) => {\n            timeSpeed = parseFloat(e.target.value);\n            document.getElementById('speedValue').textContent = timeSpeed.toFixed(1) + 'x';\n        });\n\n        document.getElementById('showOrbits').addEventListener('change', (e) => {\n            showOrbits = e.target.checked;\n            orbitLines.forEach(orbit => {\n                orbit.visible = showOrbits;\n            });\n        });\n\n        document.getElementById('closeInfo').addEventListener('click', () => {\n            document.getElementById('planetInfo').style.display = 'none';\n        });\n\n        // Mouse click handling\n        renderer.domElement.addEventListener('click', onMouseClick);\n\n        function onMouseClick(event) {\n            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n            \n            raycaster.setFromCamera(mouse, camera);\n            const",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 58.627808809280396,
    "status": "success",
    "timestamp": "2025-08-29 17:25:40"
  },
  {
    "test_name": "procedural_city_generator",
    "prompt": "Create a complete HTML file with Three.js that generates a procedural 3D city with random blocks, building heights, road grid, traffic light animations, day/night cycle with HDRI sky, and a free-fly camera. Add a mini-map overlay and a seed input to reproduce layouts. The HTML file should be self-contained with Three.js loaded from CDN and include all necessary shaders and textures inline. Save the output as 'procedural_city.html'.",
    "response": "I'll create a complete HTML file with a procedural 3D city. This will be a comprehensive implementation with all the requested features.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Procedural 3D City</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            background: #000;\n            font-family: Arial, sans-serif;\n        }\n        \n        #container {\n            width: 100vw;\n            height: 100vh;\n            position: relative;\n        }\n        \n        #controls {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            z-index: 100;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 15px;\n            border-radius: 8px;\n            color: white;\n        }\n        \n        #controls input, #controls button {\n            margin: 5px 0;\n            padding: 5px;\n            border: none;\n            border-radius: 4px;\n        }\n        \n        #minimap {\n            position: absolute;\n            top: 10px;\n            right: 10px;\n            width: 200px;\n            height: 200px;\n            border: 2px solid white;\n            border-radius: 8px;\n            z-index: 100;\n        }\n        \n        #instructions {\n            position: absolute;\n            bottom: 10px;\n            left: 10px;\n            background: rgba(0, 0, 0, 0.7);\n            color: white;\n            padding: 10px;\n            border-radius: 8px;\n            font-size: 12px;\n            z-index: 100;\n        }\n        \n        #timeDisplay {\n            position: absolute;\n            top: 10px;\n            left: 50%;\n            transform: translateX(-50%);\n            background: rgba(0, 0, 0, 0.7);\n            color: white;\n            padding: 10px;\n            border-radius: 8px;\n            z-index: 100;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"container\">\n        <div id=\"controls\">\n            <div>\n                <label>Seed: </label>\n                <input type=\"number\" id=\"seedInput\" value=\"12345\" min=\"1\" max=\"999999\">\n                <button onclick=\"generateCity()\">Generate</button>\n            </div>\n            <div>\n                <label>Time Speed: </label>\n                <input type=\"range\" id=\"timeSpeed\" min=\"0.1\" max=\"10\" step=\"0.1\" value=\"1\">\n            </div>\n            <div>\n                <button onclick=\"toggleDayNight()\">Toggle Day/Night</button>\n            </div>\n        </div>\n        \n        <div id=\"timeDisplay\">Time: 12:00</div>\n        \n        <canvas id=\"minimap\"></canvas>\n        \n        <div id=\"instructions\">\n            WASD: Move | Mouse: Look Around | Space: Up | Shift: Down | Mouse Wheel: Speed\n        </div>\n    </div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script>\n        // Global variables\n        let scene, camera, renderer, controls;\n        let city = [];\n        let trafficLights = [];\n        let minimapRenderer, minimapCamera, minimapScene;\n        let currentSeed = 12345;\n        let timeOfDay = 0.5; // 0 = night, 1 = day\n        let timeSpeed = 1;\n        let sun, ambientLight;\n        let skybox;\n        \n        // Camera movement\n        let moveForward = false, moveBackward = false, moveLeft = false, moveRight = false;\n        let moveUp = false, moveDown = false;\n        let velocity = new THREE.Vector3();\n        let direction = new THREE.Vector3();\n        let cameraSpeed = 50;\n        \n        // Initialize the scene\n        function init() {\n            // Create scene\n            scene = new THREE.Scene();\n            scene.fog = new THREE.Fog(0x87CEEB, 100, 1000);\n            \n            // Create camera\n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);\n            camera.position.set(0, 50, 100);\n            \n            // Create renderer\n            renderer = new THREE.WebGLRenderer({ antialias: true });\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.setClearColor(0x87CEEB);\n            renderer.shadowMap.enabled = true;\n            renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n            document.getElementById('container').appendChild(renderer.domElement);\n            \n            // Create lighting\n            setupLighting();\n            \n            // Create skybox\n            createSkybox();\n            \n            // Generate initial city\n            generateCity();\n            \n            // Setup minimap\n            setupMinimap();\n            \n            // Setup controls\n            setupControls();\n            \n            // Start render loop\n            animate();\n        }\n        \n        // Seeded random number generator\n        function seededRandom(seed) {\n            let x = Math.sin(seed++) * 10000;\n            return x - Math.floor(x);\n        }\n        \n        let randomSeed = currentSeed;\n        function random() {\n            randomSeed++;\n            return seededRandom(randomSeed);\n        }\n        \n        // Setup lighting\n        function setupLighting() {\n            // Ambient light\n            ambientLight = new THREE.AmbientLight(0x404040, 0.3);\n            scene.add(ambientLight);\n            \n            // Sun (directional light)\n            sun = new THREE.DirectionalLight(0xffffff, 1);\n            sun.position.set(100, 100, 50);\n            sun.castShadow = true;\n            sun.shadow.mapSize.width = 2048;\n            sun.shadow.mapSize.height = 2048;\n            sun.shadow.camera.near = 0.5;\n            sun.shadow.camera.far = 500;\n            sun.shadow.camera.left = -100;\n            sun.shadow.camera.right = 100;\n            sun.shadow.camera.top = 100;\n            sun.shadow.camera.bottom = -100;\n            scene.add(sun);\n        }\n        \n        // Create procedural skybox\n        function createSkybox() {\n            const skyGeometry = new THREE.SphereGeometry(1000, 32, 32);\n            const skyMaterial = new THREE.ShaderMaterial({\n                uniforms: {\n                    timeOfDay: { value: timeOfDay },\n                },\n                vertexShader: `\n                    varying vec3 vWorldPosition;\n                    void main() {\n                        vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n                        vWorldPosition = worldPosition.xyz;\n                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    }\n                `,\n                fragmentShader: `\n                    uniform float timeOfDay;\n                    varying vec3 vWorldPosition;\n                    \n                    void main() {\n                        vec3 direction = normalize(vWorldPosition);\n                        float sun = max(0.0, dot(direction, normalize(vec3(0.5, 0.5, 0.0))));\n                        \n                        vec3 dayColor = vec3(0.5, 0.7, 1.0);\n                        vec3 sunsetColor = vec3(1.0, 0.5, 0.2);\n                        vec3 nightColor = vec3(0.1, 0.1, 0.3);\n                        \n                        vec3 color;\n                        if (timeOfDay > 0.7) {\n                            color = mix(sunsetColor, dayColor, (timeOfDay - 0.7) / 0.3);\n                        } else if (timeOfDay > 0.3) {\n                            color = mix(nightColor, sunsetColor, (timeOfDay - 0.3) / 0.4);\n                        } else {\n                            color = nightColor;\n                        }\n                        \n                        color += sun * vec3(1.0, 0.8, 0.6) * 0.5;\n                        \n                        gl_FragColor = vec4(color, 1.0);\n                    }\n                `,\n                side: THREE.BackSide\n            });\n            \n            skybox = new THREE.Mesh(skyGeometry, skyMaterial);\n            scene.add(skybox);\n        }\n        \n        // Generate city\n        function generateCity() {\n            // Clear existing city\n            city.forEach(building => scene.remove(building));\n            trafficLights.forEach(light => scene.remove(light));\n            city = [];\n            trafficLights = [];\n            \n            randomSeed = currentSeed;\n            \n            const citySize = 20;\n            const blockSize = 20;\n            const roadWidth = 4;\n            \n            // Create ground\n            const groundGeometry = new THREE.PlaneGeometry(citySize * blockSize * 2, citySize * blockSize * 2);\n            const groundMaterial = new THREE.MeshLambertMaterial({ color: 0x333333 });\n            const ground = new THREE.Mesh(groundGeometry, groundMaterial);\n            ground.rotation.x = -Math.PI / 2;\n            ground.receiveShadow = true;\n            scene.add(ground);\n            city.push(ground);\n            \n            // Generate buildings and roads\n            for (let x = -citySize; x < citySize; x++) {\n                for (let z = -citySize; z < citySize; z++) {\n                    const isRoadX = x % 4 === 0;\n                    const isRoadZ = z % 4 === 0;\n                    \n                    if (isRoadX || isRoadZ) {\n                        // Create road\n                        const roadGeometry = new THREE.PlaneGeometry(blockSize, blockSize);\n                        const roadMaterial = new THREE.MeshLambertMaterial({ color: 0x444444 });\n                        const road = new THREE.Mesh(roadGeometry, roadMaterial);\n                        road.position.set(x * blockSize, 0.1, z * blockSize);\n                        road.rotation.x = -Math.PI / 2;\n                        scene.add(road);\n                        city.push(road);\n                        \n                        // Add traffic lights at intersections\n                        if (isRoadX && isRoadZ && random() > 0.5) {\n                            createTrafficLight(x * blockSize, z * blockSize);\n                        }\n                    } else {\n                        // Create building\n                        const height = 5 + random() * 40;\n                        const width = 8 + random() * 8;\n                        const depth = 8 + random() * 8;\n                        \n                        const buildingGeometry = new THREE.BoxGeometry(width, height, depth);\n                        const buildingMaterial = new THREE.MeshLambertMaterial({\n                            color: new THREE.Color().setHSL(random(), 0.3, 0.4 + random() * 0.3)\n                        });\n                        \n                        const building = new THREE.Mesh(buildingGeometry, buildingMaterial);\n                        building.position.set(x * blockSize, height / 2, z * blockSize);\n                        building.castShadow = true;\n                        building.receiveShadow = true;\n                        scene.add(building);\n                        city.push(building);\n                        \n                        // Add windows\n                        addWindows(building, width, height, depth);\n                    }\n                }\n            }\n        }\n        \n        // Add windows to buildings\n        function addWindows(building, width, height, depth) {\n            const windowsPerFloor = Math.floor(width / 3);\n            const floors = Math.floor(height / 4);\n            \n            for (let floor = 0; floor < floors; floor++) {\n                for (let i = 0; i < windowsPerFloor; i++) {\n                    if (random() > 0.3) {\n                        const windowGeometry = new THREE.PlaneGeometry(1, 1);\n                        const isLit = random() > 0.5;\n                        const windowMaterial = new THREE.MeshBasicMaterial({\n                            color: isLit ? 0xffffaa : 0x333333,\n                            transparent: true,\n                            opacity: isLit ? 0.8 : 0.3\n                        });\n                        \n                        const window = new THREE.Mesh(windowGeometry, windowMaterial);\n                        window.position.set(\n                            -width/2 + (i + 0.5) * (width / windowsPerFloor),\n                            -height/2 + (floor + 0.5) * (height / floors),\n                            depth/2 + 0.01\n                        );\n                        building.add(window);\n                        \n                        if (isLit) {\n                            const light = new THREE.PointLight(0xffffaa, 0.1, 10);\n                            light.position.copy(window.position);\n                            light.position.z += 2;\n                            building.add(light);\n                        }\n                    }\n                }\n            }\n        }\n        \n        // Create traffic light\n        function createTrafficLight(x, z) {\n            const poleGeometry = new THREE.CylinderGeometry(0.2, 0.2, 6);\n            const poleMaterial = new THREE.MeshLambertMaterial({ color: 0x666666 });\n            const pole = new THREE.Mesh(poleGeometry, poleMaterial);\n            pole.position.set(x + 3, 3, z + 3);\n            scene.add(pole);\n            city.push(pole);\n            \n            // Traffic light box\n            const boxGeometry = new THREE.BoxGeometry(1, 3, 1);\n            const boxMaterial = new THREE.MeshLambertMaterial({ color: 0x333333 });\n            const box = new THREE.Mesh(boxGeometry, boxMaterial);\n            box.position.set(x + 3, 6.5, z + 3);\n            scene.add(box);\n            city.push(box);\n            \n            // Light bulbs\n            const lights = [];\n            const colors = [0xff0000, 0xffff00, 0x00ff00];\n            \n            for (let i = 0; i < 3; i++) {\n                const lightGeometry = new THREE.SphereGeometry(0.2);\n                const lightMaterial = new THREE.MeshBasicMaterial({ color: colors[i] });\n                const light = new THREE.Mesh(lightGeometry, lightMaterial);\n                light.position.set(x + 3, 7.5 - i * 0.8, z + 3.6);\n                scene.add(light);\n                lights.push(light);\n                city.push(light);\n            }\n            \n            trafficLights.push({\n                lights: lights,\n                currentLight: 0,\n                timer: 0,\n                duration: 3 + random() * 2\n            });\n        }\n        \n        // Setup minimap\n        function setupMinimap() {\n            const minimapCanvas = document.getElementById('minimap');\n            minimapRenderer = new THREE.WebGLRenderer({ canvas: minimapCanvas });\n            minimapRenderer.setSize(200, 200);\n            minimapRenderer.setClearColor(0x222222);\n            \n            minimapScene = new THREE.Scene();\n            minimapCamera = new THREE.OrthographicCamera(-200, 200, 200, -200, 1, 1000);\n            minimapCamera.position.set(0,",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 44.200491189956665,
    "status": "success",
    "timestamp": "2025-08-29 17:26:24"
  },
  {
    "test_name": "terrain_flight_mode",
    "prompt": "Create a complete HTML file with Three.js that generates procedural terrain using heightmaps or Perlin noise with rivers, trees (instanced meshes), and LOD. Add a simple 'drone/plane' controller to fly above terrain with pitch/roll/yaw, speed boost, and collision avoidance. The HTML file should be self-contained with Three.js loaded from CDN and include all terrain generation code inline. Save the output as 'terrain_flight.html'.",
    "response": "I'll create a complete HTML file with Three.js that generates procedural terrain with all the features you requested. This will be a comprehensive flight simulator with terrain generation, vegetation, and smooth drone controls.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Procedural Terrain Flight Simulator</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            background: #87CEEB;\n            font-family: Arial, sans-serif;\n        }\n        \n        #container {\n            width: 100vw;\n            height: 100vh;\n        }\n        \n        #ui {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            color: white;\n            background: rgba(0,0,0,0.7);\n            padding: 15px;\n            border-radius: 8px;\n            font-size: 14px;\n            z-index: 100;\n        }\n        \n        #crosshair {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            width: 20px;\n            height: 20px;\n            border: 2px solid rgba(255,255,255,0.8);\n            border-radius: 50%;\n            pointer-events: none;\n            z-index: 100;\n        }\n        \n        #crosshair::before,\n        #crosshair::after {\n            content: '';\n            position: absolute;\n            background: rgba(255,255,255,0.8);\n        }\n        \n        #crosshair::before {\n            top: 50%;\n            left: 8px;\n            width: 4px;\n            height: 2px;\n            transform: translateY(-50%);\n        }\n        \n        #crosshair::after {\n            left: 50%;\n            top: 8px;\n            width: 2px;\n            height: 4px;\n            transform: translateX(-50%);\n        }\n        \n        #loading {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            color: white;\n            font-size: 18px;\n            background: rgba(0,0,0,0.8);\n            padding: 20px;\n            border-radius: 8px;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"container\"></div>\n    <div id=\"crosshair\"></div>\n    <div id=\"ui\">\n        <div><strong>Drone Flight Controls:</strong></div>\n        <div>WASD: Forward/Back/Left/Right</div>\n        <div>Q/E: Up/Down</div>\n        <div>Mouse: Look around</div>\n        <div>Shift: Speed boost</div>\n        <div>Space: Level flight</div>\n        <div id=\"stats\"></div>\n    </div>\n    <div id=\"loading\">Generating terrain...</div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script>\n        // Perlin noise implementation\n        class PerlinNoise {\n            constructor() {\n                this.gradients = {};\n                this.memory = {};\n            }\n            \n            rand_vect() {\n                let theta = Math.random() * 2 * Math.PI;\n                return { x: Math.cos(theta), y: Math.sin(theta) };\n            }\n            \n            get_gradient(ix, iy) {\n                if (this.gradients[[ix, iy]] == undefined) {\n                    this.gradients[[ix, iy]] = this.rand_vect();\n                }\n                return this.gradients[[ix, iy]];\n            }\n            \n            dot_prod_grid(x, y, vx, vy) {\n                let g_vect = this.get_gradient(vx, vy);\n                let d_vect = { x: x - vx, y: y - vy };\n                return d_vect.x * g_vect.x + d_vect.y * g_vect.y;\n            }\n            \n            smootherstep(x) {\n                return 6 * x ** 5 - 15 * x ** 4 + 10 * x ** 3;\n            }\n            \n            interp(x, a, b) {\n                return a + this.smootherstep(x) * (b - a);\n            }\n            \n            noise(x, y) {\n                if (this.memory.hasOwnProperty([x, y])) {\n                    return this.memory[[x, y]];\n                }\n                \n                let xf = Math.floor(x);\n                let yf = Math.floor(y);\n                let tl = this.dot_prod_grid(x, y, xf, yf);\n                let tr = this.dot_prod_grid(x, y, xf + 1, yf);\n                let bl = this.dot_prod_grid(x, y, xf, yf + 1);\n                let br = this.dot_prod_grid(x, y, xf + 1, yf + 1);\n                let xt = this.interp(x - xf, tl, tr);\n                let xb = this.interp(x - xf, bl, br);\n                let v = this.interp(y - yf, xt, xb);\n                this.memory[[x, y]] = v;\n                return v;\n            }\n            \n            fbm(x, y, octaves = 4, persistence = 0.5, scale = 0.01) {\n                let value = 0;\n                let amplitude = 1;\n                let frequency = scale;\n                let maxValue = 0;\n                \n                for (let i = 0; i < octaves; i++) {\n                    value += this.noise(x * frequency, y * frequency) * amplitude;\n                    maxValue += amplitude;\n                    amplitude *= persistence;\n                    frequency *= 2;\n                }\n                \n                return value / maxValue;\n            }\n        }\n\n        // Terrain chunk class with LOD\n        class TerrainChunk {\n            constructor(x, z, size, resolution, noise) {\n                this.x = x;\n                this.z = z;\n                this.size = size;\n                this.resolution = resolution;\n                this.noise = noise;\n                this.mesh = null;\n                this.heightData = [];\n                this.generated = false;\n            }\n            \n            generate() {\n                if (this.generated) return;\n                \n                const geometry = new THREE.PlaneGeometry(this.size, this.size, this.resolution - 1, this.resolution - 1);\n                const vertices = geometry.attributes.position.array;\n                \n                // Generate height data\n                for (let i = 0; i < vertices.length; i += 3) {\n                    const worldX = this.x + vertices[i];\n                    const worldZ = this.z + vertices[i + 1];\n                    \n                    // Multi-octave noise for realistic terrain\n                    let height = 0;\n                    height += this.noise.fbm(worldX, worldZ, 6, 0.6, 0.005) * 80; // Base terrain\n                    height += this.noise.fbm(worldX, worldZ, 4, 0.4, 0.02) * 20;  // Mid details\n                    height += this.noise.fbm(worldX, worldZ, 2, 0.2, 0.1) * 5;    // Fine details\n                    \n                    vertices[i + 2] = height;\n                    this.heightData.push(height);\n                }\n                \n                geometry.computeVertexNormals();\n                \n                // Create material with vertex colors for height-based coloring\n                const material = new THREE.MeshLambertMaterial({\n                    vertexColors: true,\n                    wireframe: false\n                });\n                \n                // Add colors based on height\n                const colors = [];\n                for (let i = 0; i < vertices.length; i += 3) {\n                    const height = vertices[i + 2];\n                    let r, g, b;\n                    \n                    if (height < 5) {\n                        // Water/low areas - blue\n                        r = 0.2; g = 0.4; b = 0.8;\n                    } else if (height < 20) {\n                        // Beach/shore - sandy\n                        r = 0.8; g = 0.7; b = 0.5;\n                    } else if (height < 40) {\n                        // Grass - green\n                        r = 0.3; g = 0.6; b = 0.2;\n                    } else if (height < 60) {\n                        // Forest - dark green\n                        r = 0.2; g = 0.4; b = 0.1;\n                    } else {\n                        // Mountains - grey/white\n                        r = 0.6; g = 0.6; b = 0.7;\n                    }\n                    \n                    colors.push(r, g, b);\n                }\n                \n                geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));\n                \n                this.mesh = new THREE.Mesh(geometry, material);\n                this.mesh.position.set(this.x, 0, this.z);\n                this.mesh.receiveShadow = true;\n                \n                this.generated = true;\n            }\n            \n            getHeightAt(x, z) {\n                if (!this.generated) return 0;\n                \n                const localX = x - this.x + this.size / 2;\n                const localZ = z - this.z + this.size / 2;\n                \n                if (localX < 0 || localX >= this.size || localZ < 0 || localZ >= this.size) {\n                    return 0;\n                }\n                \n                const col = Math.floor((localX / this.size) * this.resolution);\n                const row = Math.floor((localZ / this.size) * this.resolution);\n                const index = row * this.resolution + col;\n                \n                return this.heightData[index] || 0;\n            }\n        }\n\n        // Tree generator\n        class TreeGenerator {\n            constructor() {\n                this.treeGeometry = this.createTreeGeometry();\n                this.leafGeometry = this.createLeafGeometry();\n            }\n            \n            createTreeGeometry() {\n                const geometry = new THREE.CylinderGeometry(0.3, 0.5, 8, 8);\n                return geometry;\n            }\n            \n            createLeafGeometry() {\n                const geometry = new THREE.SphereGeometry(3, 6, 4);\n                return geometry;\n            }\n            \n            createInstancedTrees(positions) {\n                // Tree trunks\n                const trunkMaterial = new THREE.MeshLambertMaterial({ color: 0x8B4513 });\n                const trunkMesh = new THREE.InstancedMesh(this.treeGeometry, trunkMaterial, positions.length);\n                trunkMesh.castShadow = true;\n                \n                // Tree leaves\n                const leafMaterial = new THREE.MeshLambertMaterial({ color: 0x228B22 });\n                const leafMesh = new THREE.InstancedMesh(this.leafGeometry, leafMaterial, positions.length);\n                leafMesh.castShadow = true;\n                \n                const matrix = new THREE.Matrix4();\n                \n                for (let i = 0; i < positions.length; i++) {\n                    const pos = positions[i];\n                    const scale = 0.8 + Math.random() * 0.4;\n                    \n                    // Position trunk\n                    matrix.makeTranslation(pos.x, pos.y + 4, pos.z);\n                    matrix.scale(new THREE.Vector3(scale, scale, scale));\n                    trunkMesh.setMatrixAt(i, matrix);\n                    \n                    // Position leaves\n                    matrix.makeTranslation(pos.x, pos.y + 8, pos.z);\n                    matrix.scale(new THREE.Vector3(scale, scale, scale));\n                    leafMesh.setMatrixAt(i, matrix);\n                }\n                \n                trunkMesh.instanceMatrix.needsUpdate = true;\n                leafMesh.instanceMatrix.needsUpdate = true;\n                \n                return { trunks: trunkMesh, leaves: leafMesh };\n            }\n        }\n\n        // River generator\n        class RiverGenerator {\n            generateRiver(noise, startX, startZ, length) {\n                const points = [];\n                let currentX = startX;\n                let currentZ = startZ;\n                \n                for (let i = 0; i < length; i++) {\n                    points.push(new THREE.Vector3(currentX, 0, currentZ));\n                    \n                    // Use noise to create meandering\n                    const direction = noise.noise(currentX * 0.01, currentZ * 0.01) * Math.PI * 2;\n                    currentX += Math.cos(direction) * 10;\n                    currentZ += Math.sin(direction) * 10;\n                }\n                \n                const curve = new THREE.CatmullRomCurve3(points);\n                const geometry = new THREE.TubeGeometry(curve, length * 2, 2, 8, false);\n                const material = new THREE.MeshPhongMaterial({ \n                    color: 0x4169E1, \n                    transparent: true, \n                    opacity: 0.8,\n                    shininess: 100\n                });\n                \n                return new THREE.Mesh(geometry, material);\n            }\n        }\n\n        // Drone controller\n        class DroneController {\n            constructor(camera) {\n                this.camera = camera;\n                this.velocity = new THREE.Vector3();\n                this.angularVelocity = new THREE.Vector3();\n                this.position = new THREE.Vector3(0, 50, 0);\n                this.rotation = new THREE.Euler();\n                this.speed = 0.5;\n                this.maxSpeed = 2.0;\n                this.boostSpeed = 4.0;\n                this.keys = {};\n                this.mouse = { x: 0, y: 0 };\n                this.sensitivity = 0.002;\n                this.minHeight = 5;\n                \n                this.setupControls();\n                this.camera.position.copy(this.position);\n            }\n            \n            setupControls() {\n                document.addEventListener('keydown', (e) => {\n                    this.keys[e.code] = true;\n                });\n                \n                document.addEventListener('keyup', (e) => {\n                    this.keys[e.code] = false;\n                });\n                \n                document.addEventListener('mousemove', (e) => {\n                    if (document.pointerLockElement) {\n                        this.mouse.x += e.movementX * this.sensitivity;\n                        this.mouse.y += e.movementY * this.sensitivity;\n                        this.mouse.y = Math.max(-Math.PI/2, Math.min(Math.PI/2, this.mouse.y));\n                    }\n                });\n                \n                document.addEventListener('click', () => {\n                    document.body.requestPointerLock();\n                });\n            }\n            \n            update(terrain) {\n                const currentSpeed = this.keys['ShiftLeft'] ? this.boostSpeed : this.speed;\n                const forward = new THREE.Vector3(0, 0, -1).applyQuaternion(this.camera.quaternion);\n                const right = new THREE.Vector3(1, 0, 0).applyQuaternion(this.camera.quaternion);\n                const up = new THREE.Vector3(0, 1, 0);\n                \n                // Movement\n                if (this.keys['KeyW']) this.velocity.add(forward.multi",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 54.428239822387695,
    "status": "success",
    "timestamp": "2025-08-29 17:27:19"
  },
  {
    "test_name": "product_configurator",
    "prompt": "Create a complete HTML file with Three.js that implements a 3D product configurator. Create a 3D model (like a car, chair, or phone) with color, material, texture, and part toggles. Add environment reflections, soft shadows, and camera bookmarks. Include export current config as JSON and PNG snapshot functionality. The HTML file should be self-contained with Three.js loaded from CDN and include all 3D models as procedural geometry. Save the output as 'product_configurator.html'.",
    "response": "I'll create a complete 3D product configurator HTML file with a modern office chair as the product. This will include all the requested features with procedural geometry.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>3D Product Configurator - Office Chair</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        body {\n            font-family: 'Arial', sans-serif;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            overflow: hidden;\n        }\n\n        #container {\n            display: flex;\n            height: 100vh;\n        }\n\n        #canvas-container {\n            flex: 1;\n            position: relative;\n        }\n\n        #controls {\n            width: 350px;\n            background: rgba(255, 255, 255, 0.95);\n            backdrop-filter: blur(10px);\n            padding: 20px;\n            overflow-y: auto;\n            box-shadow: -5px 0 20px rgba(0, 0, 0, 0.1);\n        }\n\n        .control-group {\n            margin-bottom: 25px;\n            padding: 15px;\n            background: white;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        }\n\n        .control-group h3 {\n            margin-bottom: 15px;\n            color: #333;\n            font-size: 16px;\n            font-weight: bold;\n            border-bottom: 2px solid #667eea;\n            padding-bottom: 5px;\n        }\n\n        .color-palette {\n            display: grid;\n            grid-template-columns: repeat(4, 1fr);\n            gap: 8px;\n            margin-bottom: 10px;\n        }\n\n        .color-option {\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n            border: 3px solid transparent;\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n\n        .color-option:hover {\n            transform: scale(1.1);\n            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);\n        }\n\n        .color-option.active {\n            border-color: #333;\n            transform: scale(1.1);\n        }\n\n        .material-option {\n            padding: 10px 15px;\n            margin: 5px 0;\n            background: #f8f9fa;\n            border: 2px solid transparent;\n            border-radius: 8px;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            text-align: center;\n            font-weight: 500;\n        }\n\n        .material-option:hover {\n            background: #e9ecef;\n            transform: translateY(-2px);\n        }\n\n        .material-option.active {\n            background: #667eea;\n            color: white;\n            border-color: #5a67d8;\n        }\n\n        .toggle-option {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 10px 0;\n            border-bottom: 1px solid #eee;\n        }\n\n        .toggle-option:last-child {\n            border-bottom: none;\n        }\n\n        .toggle-switch {\n            position: relative;\n            width: 50px;\n            height: 25px;\n            background: #ccc;\n            border-radius: 25px;\n            cursor: pointer;\n            transition: background 0.3s ease;\n        }\n\n        .toggle-switch.active {\n            background: #667eea;\n        }\n\n        .toggle-switch::after {\n            content: '';\n            position: absolute;\n            width: 21px;\n            height: 21px;\n            border-radius: 50%;\n            background: white;\n            top: 2px;\n            left: 2px;\n            transition: transform 0.3s ease;\n        }\n\n        .toggle-switch.active::after {\n            transform: translateX(25px);\n        }\n\n        .camera-bookmarks {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 10px;\n        }\n\n        .camera-btn {\n            padding: 10px;\n            background: #f8f9fa;\n            border: 2px solid #dee2e6;\n            border-radius: 8px;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            font-size: 12px;\n            text-align: center;\n        }\n\n        .camera-btn:hover {\n            background: #667eea;\n            color: white;\n            border-color: #5a67d8;\n        }\n\n        .export-buttons {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 10px;\n            margin-top: 10px;\n        }\n\n        .export-btn {\n            padding: 12px;\n            background: #28a745;\n            color: white;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: bold;\n            transition: all 0.3s ease;\n        }\n\n        .export-btn:hover {\n            background: #218838;\n            transform: translateY(-2px);\n        }\n\n        .export-btn.secondary {\n            background: #17a2b8;\n        }\n\n        .export-btn.secondary:hover {\n            background: #138496;\n        }\n\n        #loading {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            color: white;\n            font-size: 18px;\n            z-index: 1000;\n        }\n\n        .slider-container {\n            margin: 10px 0;\n        }\n\n        .slider {\n            width: 100%;\n            margin: 10px 0;\n        }\n\n        .slider-label {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 5px;\n            font-size: 14px;\n            color: #666;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"loading\">Loading 3D Configurator...</div>\n    \n    <div id=\"container\">\n        <div id=\"canvas-container\"></div>\n        \n        <div id=\"controls\">\n            <h2 style=\"text-align: center; margin-bottom: 20px; color: #333;\">Office Chair Configurator</h2>\n            \n            <!-- Seat Color -->\n            <div class=\"control-group\">\n                <h3>Seat Color</h3>\n                <div class=\"color-palette\" id=\"seat-colors\">\n                    <div class=\"color-option active\" style=\"background: #8B4513\" data-color=\"#8B4513\"></div>\n                    <div class=\"color-option\" style=\"background: #2F4F4F\" data-color=\"#2F4F4F\"></div>\n                    <div class=\"color-option\" style=\"background: #800080\" data-color=\"#800080\"></div>\n                    <div class=\"color-option\" style=\"background: #B22222\" data-color=\"#B22222\"></div>\n                    <div class=\"color-option\" style=\"background: #000080\" data-color=\"#000080\"></div>\n                    <div class=\"color-option\" style=\"background: #228B22\" data-color=\"#228B22\"></div>\n                    <div class=\"color-option\" style=\"background: #FF8C00\" data-color=\"#FF8C00\"></div>\n                    <div class=\"color-option\" style=\"background: #696969\" data-color=\"#696969\"></div>\n                </div>\n            </div>\n\n            <!-- Frame Color -->\n            <div class=\"control-group\">\n                <h3>Frame Color</h3>\n                <div class=\"color-palette\" id=\"frame-colors\">\n                    <div class=\"color-option active\" style=\"background: #C0C0C0\" data-color=\"#C0C0C0\"></div>\n                    <div class=\"color-option\" style=\"background: #2C2C2C\" data-color=\"#2C2C2C\"></div>\n                    <div class=\"color-option\" style=\"background: #FFD700\" data-color=\"#FFD700\"></div>\n                    <div class=\"color-option\" style=\"background: #B87333\" data-color=\"#B87333\"></div>\n                    <div class=\"color-option\" style=\"background: #FFFFFF\" data-color=\"#FFFFFF\"></div>\n                    <div class=\"color-option\" style=\"background: #8B0000\" data-color=\"#8B0000\"></div>\n                    <div class=\"color-option\" style=\"background: #4169E1\" data-color=\"#4169E1\"></div>\n                    <div class=\"color-option\" style=\"background: #32CD32\" data-color=\"#32CD32\"></div>\n                </div>\n            </div>\n\n            <!-- Material Type -->\n            <div class=\"control-group\">\n                <h3>Seat Material</h3>\n                <div class=\"material-option active\" data-material=\"leather\">Premium Leather</div>\n                <div class=\"material-option\" data-material=\"fabric\">Fabric</div>\n                <div class=\"material-option\" data-material=\"mesh\">Mesh</div>\n            </div>\n\n            <!-- Part Toggles -->\n            <div class=\"control-group\">\n                <h3>Features</h3>\n                <div class=\"toggle-option\">\n                    <span>Armrests</span>\n                    <div class=\"toggle-switch active\" data-part=\"armrests\"></div>\n                </div>\n                <div class=\"toggle-option\">\n                    <span>Headrest</span>\n                    <div class=\"toggle-switch active\" data-part=\"headrest\"></div>\n                </div>\n                <div class=\"toggle-option\">\n                    <span>Lumbar Support</span>\n                    <div class=\"toggle-switch active\" data-part=\"lumbar\"></div>\n                </div>\n                <div class=\"toggle-option\">\n                    <span>Wheels</span>\n                    <div class=\"toggle-switch active\" data-part=\"wheels\"></div>\n                </div>\n            </div>\n\n            <!-- Environment Settings -->\n            <div class=\"control-group\">\n                <h3>Environment</h3>\n                <div class=\"slider-container\">\n                    <div class=\"slider-label\">\n                        <span>Reflection Intensity</span>\n                        <span id=\"reflection-value\">0.8</span>\n                    </div>\n                    <input type=\"range\" class=\"slider\" id=\"reflection-slider\" min=\"0\" max=\"1\" step=\"0.1\" value=\"0.8\">\n                </div>\n                <div class=\"slider-container\">\n                    <div class=\"slider-label\">\n                        <span>Shadow Intensity</span>\n                        <span id=\"shadow-value\">0.5</span>\n                    </div>\n                    <input type=\"range\" class=\"slider\" id=\"shadow-slider\" min=\"0\" max=\"1\" step=\"0.1\" value=\"0.5\">\n                </div>\n            </div>\n\n            <!-- Camera Bookmarks -->\n            <div class=\"control-group\">\n                <h3>Camera Views</h3>\n                <div class=\"camera-bookmarks\">\n                    <div class=\"camera-btn\" data-view=\"front\">Front View</div>\n                    <div class=\"camera-btn\" data-view=\"back\">Back View</div>\n                    <div class=\"camera-btn\" data-view=\"side\">Side View</div>\n                    <div class=\"camera-btn\" data-view=\"top\">Top View</div>\n                    <div class=\"camera-btn\" data-view=\"perspective\">3/4 View</div>\n                    <div class=\"camera-btn\" data-view=\"close\">Detail View</div>\n                </div>\n            </div>\n\n            <!-- Export Options -->\n            <div class=\"control-group\">\n                <h3>Export</h3>\n                <div class=\"export-buttons\">\n                    <button class=\"export-btn\" id=\"export-json\">Export Config</button>\n                    <button class=\"export-btn secondary\" id=\"export-image\">Save Image</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.7/dat.gui.min.js\"></script>\n    \n    <script>\n        // Global variables\n        let scene, camera, renderer, controls;\n        let chair = {};\n        let currentConfig = {\n            seatColor: '#8B4513',\n            frameColor: '#C0C0C0',\n            material: 'leather',\n            parts: {\n                armrests: true,\n                headrest: true,\n                lumbar: true,\n                wheels: true\n            },\n            environment: {\n                reflectionIntensity: 0.8,\n                shadowIntensity: 0.5\n            }\n        };\n\n        // Initialize the application\n        init();\n        animate();\n\n        function init() {\n            // Create scene\n            scene = new THREE.Scene();\n            scene.background = new THREE.Color(0xf0f0f0);\n\n            // Create camera\n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n            camera.position.set(5, 5, 5);\n\n            // Create renderer\n            renderer = new THREE.WebGLRenderer({ antialias: true, preserveDrawingBuffer: true });\n            renderer.setSize(window.innerWidth - 350, window.innerHeight);\n            renderer.shadowMap.enabled = true;\n            renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n            renderer.toneMapping = THREE.ACESFilmicToneMapping;\n            renderer.toneMappingExposure = 1.2;\n            document.getElementById('canvas-container').appendChild(renderer.domElement);\n\n            // Add orbit controls\n            addOrbitControls();\n\n            // Create lights\n            createLights();\n\n            // Create environment\n            createEnvironment();\n\n            // Create chair\n            createChair();\n\n            // Setup event listeners\n            setupEventListeners();\n\n            // Hide loading\n            document.getElementById('loading').style.display = 'none';\n        }\n\n        function addOrbitControls() {\n            // Simple orbit controls implementation\n            let isMouseDown = false;\n            let mouseX = 0, mouseY = 0;\n            let targetRotationX = 0, targetRotationY = 0;\n            let rotationX = 0, rotationY = 0;\n\n            renderer.domElement.addEventListener('mousedown', onMouseDown, false);\n            renderer.domElement.addEventListener('mousemove', onMouseMove, false);\n            renderer.domElement.addEventListener('mouseup', onMouseUp, false);\n            renderer.domElement.addEventListener('wheel', onWheel, false);\n\n            function onMouseDown(event) {\n                isMouseDown = true;\n                mouseX = event.clientX;\n                mouseY = event.clientY;\n            }\n\n            function onMouseMove(event) {\n                if (!isMouseDown) return;\n                \n                const deltaX = event.clientX - mouseX;\n                const deltaY = event.clientY - mouseY;\n                \n                targetRotationY += deltaX * 0.01;\n                targetRotationX += deltaY * 0.01;\n                \n                mouseX = event.clientX;\n                mouseY = event.clientY;\n            }\n\n            function onMouseUp() {\n                isMouseDown = false;\n            }\n\n            function onWheel(event) {\n                const distance = camera.position.length();",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 55.454787254333496,
    "status": "success",
    "timestamp": "2025-08-29 17:28:14"
  },
  {
    "test_name": "webxr_art_gallery",
    "prompt": "Create a complete HTML file with Three.js and WebXR that builds a VR gallery with teleport navigation, hand/controller rays to select artworks, modal info panels, spatial audio, baked/lightmapped room, and performance budget for stable frame rate. Include fallback for non-VR devices with mouse controls. The HTML file should be self-contained with Three.js and WebXR libraries loaded from CDN. Save the output as 'webxr_gallery.html'.",
    "response": "I'll create a comprehensive WebXR gallery with all the features you requested. Here's the complete HTML file:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>WebXR Art Gallery</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            background: #000;\n            font-family: Arial, sans-serif;\n            overflow: hidden;\n        }\n        \n        #loading {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: #000;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            z-index: 1000;\n        }\n        \n        #vrButton {\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            padding: 12px 20px;\n            background: #007acc;\n            color: white;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-size: 16px;\n            z-index: 100;\n        }\n        \n        #vrButton:hover {\n            background: #0056a3;\n        }\n        \n        #instructions {\n            position: fixed;\n            top: 20px;\n            left: 20px;\n            color: white;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 15px;\n            border-radius: 8px;\n            max-width: 300px;\n            font-size: 14px;\n            z-index: 100;\n        }\n        \n        #performanceInfo {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            color: white;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 10px;\n            border-radius: 8px;\n            font-size: 12px;\n            z-index: 100;\n        }\n        \n        #modal {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.8);\n            display: none;\n            justify-content: center;\n            align-items: center;\n            z-index: 200;\n        }\n        \n        #modalContent {\n            background: white;\n            padding: 30px;\n            border-radius: 10px;\n            max-width: 500px;\n            max-height: 70%;\n            overflow-y: auto;\n            position: relative;\n        }\n        \n        #closeModal {\n            position: absolute;\n            top: 10px;\n            right: 15px;\n            background: none;\n            border: none;\n            font-size: 24px;\n            cursor: pointer;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"loading\">\n        <h2>Loading VR Gallery...</h2>\n        <div>Setting up WebXR and assets...</div>\n    </div>\n    \n    <div id=\"instructions\">\n        <strong>Controls:</strong><br>\n        VR: Use controllers to point and teleport<br>\n        Desktop: WASD + Mouse to move, Click to select\n    </div>\n    \n    <div id=\"performanceInfo\">\n        FPS: <span id=\"fps\">60</span><br>\n        Draw Calls: <span id=\"drawCalls\">0</span>\n    </div>\n    \n    <button id=\"vrButton\">Enter VR</button>\n    \n    <div id=\"modal\">\n        <div id=\"modalContent\">\n            <button id=\"closeModal\">&times;</button>\n            <div id=\"modalBody\"></div>\n        </div>\n    </div>\n\n    <!-- Three.js and WebXR -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r144/three.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.144.0/examples/js/webxr/VRButton.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.144.0/examples/js/controls/OrbitControls.js\"></script>\n\n    <script>\n        // Global variables\n        let scene, camera, renderer, controls;\n        let xrSession = null;\n        let isVRMode = false;\n        let controllers = [];\n        let teleportMarker, teleportValidMaterial, teleportInvalidMaterial;\n        let raycaster, intersectedObjects = [];\n        let artworks = [];\n        let audioListener, ambientSound;\n        let performanceMonitor = {\n            fps: 0,\n            frameCount: 0,\n            lastTime: performance.now()\n        };\n        \n        // Artwork data\n        const artworkData = [\n            {\n                title: \"The Starry Night\",\n                artist: \"Vincent van Gogh\",\n                year: \"1889\",\n                description: \"A swirling night sky over a quiet town, painted during van Gogh's stay at the Saint-Paul-de-Mausole asylum.\",\n                imageUrl: \"data:image/svg+xml;base64,\" + btoa('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 400 300\"><rect fill=\"#1e3a8a\" width=\"400\" height=\"300\"/><circle fill=\"#fbbf24\" cx=\"320\" cy=\"80\" r=\"30\"/><path fill=\"#ffffff\" d=\"M50,150 Q100,100 150,150 Q200,200 250,150 Q300,100 350,150\" stroke=\"#ffffff\" stroke-width=\"2\"/><rect fill=\"#065f46\" y=\"200\" width=\"400\" height=\"100\"/></svg>'),\n                position: { x: -8, y: 2, z: -5 }\n            },\n            {\n                title: \"The Great Wave\",\n                artist: \"Katsushika Hokusai\",\n                year: \"1831\",\n                description: \"The most famous work in Hokusai's series Thirty-six Views of Mount Fuji, depicting a giant wave threatening boats.\",\n                imageUrl: \"data:image/svg+xml;base64,\" + btoa('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 400 300\"><rect fill=\"#0891b2\" width=\"400\" height=\"300\"/><path fill=\"#ffffff\" d=\"M0,200 Q100,50 200,200 Q300,50 400,200 L400,300 L0,300 Z\"/><polygon fill=\"#374151\" points=\"300,250 320,200 340,250\"/></svg>'),\n                position: { x: 8, y: 2, z: -5 }\n            },\n            {\n                title: \"Mona Lisa\",\n                artist: \"Leonardo da Vinci\",\n                year: \"1503-1519\",\n                description: \"A Renaissance portrait of Lisa Gherardini, known for her enigmatic smile and da Vinci's sfumato technique.\",\n                imageUrl: \"data:image/svg+xml;base64,\" + btoa('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 400 300\"><rect fill=\"#8b4513\" width=\"400\" height=\"300\"/><ellipse fill=\"#deb887\" cx=\"200\" cy=\"150\" rx=\"80\" ry=\"100\"/><ellipse fill=\"#000\" cx=\"180\" cy=\"130\" rx=\"8\" ry=\"6\"/><ellipse fill=\"#000\" cx=\"220\" cy=\"130\" rx=\"8\" ry=\"6\"/><path fill=\"#000\" d=\"M170,170 Q200,180 230,170\" stroke=\"#000\" stroke-width=\"2\"/></svg>'),\n                position: { x: 0, y: 2, z: -9 }\n            }\n        ];\n\n        // Initialize the application\n        async function init() {\n            // Create scene\n            scene = new THREE.Scene();\n            scene.background = new THREE.Color(0x222222);\n            scene.fog = new THREE.Fog(0x222222, 10, 50);\n\n            // Create camera\n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n            camera.position.set(0, 1.6, 8);\n\n            // Create renderer with WebXR support\n            renderer = new THREE.WebGLRenderer({ antialias: true });\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n            renderer.xr.enabled = true;\n            renderer.shadowMap.enabled = true;\n            renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n            renderer.outputEncoding = THREE.sRGBEncoding;\n            renderer.toneMapping = THREE.ACESFilmicToneMapping;\n            renderer.toneMappingExposure = 1;\n            document.body.appendChild(renderer.domElement);\n\n            // Audio setup\n            audioListener = new THREE.AudioListener();\n            camera.add(audioListener);\n            \n            // Create ambient sound\n            const audioLoader = new THREE.AudioLoader();\n            ambientSound = new THREE.Audio(audioListener);\n            // Create a simple ambient tone using Web Audio API\n            createAmbientSound();\n\n            // Create gallery environment\n            createGallery();\n            \n            // Create artworks\n            await createArtworks();\n            \n            // Setup lighting\n            setupLighting();\n            \n            // Setup controls\n            setupControls();\n            \n            // Setup VR\n            setupVR();\n            \n            // Setup teleportation\n            setupTeleportation();\n            \n            // Setup raycasting\n            raycaster = new THREE.Raycaster();\n            \n            // Setup event listeners\n            setupEventListeners();\n            \n            // Start render loop\n            renderer.setAnimationLoop(animate);\n            \n            // Hide loading screen\n            document.getElementById('loading').style.display = 'none';\n        }\n\n        function createGallery() {\n            // Gallery floor with lightmap-like effect\n            const floorGeometry = new THREE.PlaneGeometry(20, 20);\n            const floorTexture = new THREE.CanvasTexture(createFloorTexture());\n            const floorMaterial = new THREE.MeshLambertMaterial({ \n                map: floorTexture,\n                transparent: true\n            });\n            const floor = new THREE.Mesh(floorGeometry, floorMaterial);\n            floor.rotation.x = -Math.PI / 2;\n            floor.position.y = 0;\n            floor.receiveShadow = true;\n            scene.add(floor);\n\n            // Gallery walls with baked lighting effect\n            const wallHeight = 4;\n            const wallThickness = 0.2;\n            \n            // Back wall\n            const backWallGeometry = new THREE.BoxGeometry(20, wallHeight, wallThickness);\n            const backWallTexture = new THREE.CanvasTexture(createWallTexture());\n            const backWallMaterial = new THREE.MeshLambertMaterial({ map: backWallTexture });\n            const backWall = new THREE.Mesh(backWallGeometry, backWallMaterial);\n            backWall.position.set(0, wallHeight/2, -10);\n            backWall.receiveShadow = true;\n            scene.add(backWall);\n\n            // Side walls\n            const sideWallGeometry = new THREE.BoxGeometry(wallThickness, wallHeight, 20);\n            const leftWall = new THREE.Mesh(sideWallGeometry, backWallMaterial);\n            leftWall.position.set(-10, wallHeight/2, 0);\n            scene.add(leftWall);\n            \n            const rightWall = new THREE.Mesh(sideWallGeometry, backWallMaterial);\n            rightWall.position.set(10, wallHeight/2, 0);\n            scene.add(rightWall);\n\n            // Ceiling\n            const ceilingGeometry = new THREE.PlaneGeometry(20, 20);\n            const ceilingMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });\n            const ceiling = new THREE.Mesh(ceilingGeometry, ceilingMaterial);\n            ceiling.rotation.x = Math.PI / 2;\n            ceiling.position.y = wallHeight;\n            scene.add(ceiling);\n\n            // Add some decorative elements\n            createDecorations();\n        }\n\n        function createFloorTexture() {\n            const canvas = document.createElement('canvas');\n            canvas.width = 512;\n            canvas.height = 512;\n            const ctx = canvas.getContext('2d');\n            \n            // Base floor color\n            ctx.fillStyle = '#444444';\n            ctx.fillRect(0, 0, 512, 512);\n            \n            // Add tile pattern with baked shadows\n            const tileSize = 64;\n            for (let x = 0; x < 512; x += tileSize) {\n                for (let y = 0; y < 512; y += tileSize) {\n                    // Create subtle tile variation\n                    const brightness = 0.9 + Math.random() * 0.1;\n                    ctx.fillStyle = `rgb(${Math.floor(68 * brightness)}, ${Math.floor(68 * brightness)}, ${Math.floor(68 * brightness)})`;\n                    ctx.fillRect(x + 2, y + 2, tileSize - 4, tileSize - 4);\n                    \n                    // Add subtle shadows\n                    ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';\n                    ctx.fillRect(x + tileSize - 8, y + 2, 6, tileSize - 4);\n                    ctx.fillRect(x + 2, y + tileSize - 8, tileSize - 4, 6);\n                }\n            }\n            \n            return canvas;\n        }\n\n        function createWallTexture() {\n            const canvas = document.createElement('canvas');\n            canvas.width = 512;\n            canvas.height = 512;\n            const ctx = canvas.getContext('2d');\n            \n            // Base wall color\n            ctx.fillStyle = '#f0f0f0';\n            ctx.fillRect(0, 0, 512, 512);\n            \n            // Add subtle texture and lighting variations\n            for (let i = 0; i < 100; i++) {\n                const x = Math.random() * 512;\n                const y = Math.random() * 512;\n                const size = Math.random() * 4 + 1;\n                const alpha = Math.random() * 0.05;\n                ctx.fillStyle = `rgba(0, 0, 0, ${alpha})`;\n                ctx.fillRect(x, y, size, size);\n            }\n            \n            // Add subtle vertical gradient for lighting effect\n            const gradient = ctx.createLinearGradient(0, 0, 0, 512);\n            gradient.addColorStop(0, 'rgba(255, 255, 255, 0.1)');\n            gradient.addColorStop(0.5, 'rgba(255, 255, 255, 0)');\n            gradient.addColorStop(1, 'rgba(0, 0, 0, 0.1)');\n            ctx.fillStyle = gradient;\n            ctx.fillRect(0, 0, 512, 512);\n            \n            return canvas;\n        }\n\n        function createDecorations() {\n            // Add some simple plants\n            for (let i = 0; i < 4; i++) {\n                const plantGeometry = new THREE.CylinderGeometry(0.1, 0.15, 1.5);\n                const plantMaterial = new THREE.MeshLambertMaterial({ color: 0x228B22 });\n                const plant = new THREE.Mesh(plantGeometry, plantMaterial);\n                \n                const angle =",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 57.18857288360596,
    "status": "success",
    "timestamp": "2025-08-29 17:29:11"
  },
  {
    "test_name": "physics_playground",
    "prompt": "Create a complete HTML file with Three.js integrated with a lightweight physics engine (cannon-es or similar) that includes stackable boxes, spheres, hinge joints, ragdoll, and interactive dragging with the mouse. Add reset button, gravity slider, and slow-motion toggle. The HTML file should be self-contained with Three.js and physics engine loaded from CDN. Save the output as 'physics_playground.html'.",
    "response": "I'll create a comprehensive physics playground using Three.js and cannon-es. Here's the complete HTML file:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Physics Playground</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            font-family: Arial, sans-serif;\n            background: #1a1a1a;\n            color: white;\n        }\n        \n        #container {\n            position: relative;\n            width: 100vw;\n            height: 100vh;\n        }\n        \n        #controls {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            z-index: 100;\n            background: rgba(0, 0, 0, 0.8);\n            padding: 15px;\n            border-radius: 10px;\n            backdrop-filter: blur(5px);\n        }\n        \n        .control-group {\n            margin-bottom: 10px;\n        }\n        \n        label {\n            display: block;\n            margin-bottom: 5px;\n            font-size: 12px;\n        }\n        \n        input[type=\"range\"] {\n            width: 150px;\n        }\n        \n        button {\n            background: #4CAF50;\n            border: none;\n            color: white;\n            padding: 8px 16px;\n            margin: 2px;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 12px;\n        }\n        \n        button:hover {\n            background: #45a049;\n        }\n        \n        .toggle-btn {\n            background: #2196F3;\n        }\n        \n        .toggle-btn.active {\n            background: #FF5722;\n        }\n        \n        #info {\n            position: absolute;\n            bottom: 10px;\n            left: 10px;\n            z-index: 100;\n            background: rgba(0, 0, 0, 0.8);\n            padding: 10px;\n            border-radius: 5px;\n            font-size: 11px;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"container\">\n        <div id=\"controls\">\n            <div class=\"control-group\">\n                <button id=\"resetBtn\">Reset Scene</button>\n                <button id=\"slowMotionBtn\" class=\"toggle-btn\">Slow Motion</button>\n            </div>\n            <div class=\"control-group\">\n                <label for=\"gravitySlider\">Gravity: <span id=\"gravityValue\">-9.82</span></label>\n                <input type=\"range\" id=\"gravitySlider\" min=\"0\" max=\"20\" value=\"9.82\" step=\"0.1\">\n            </div>\n            <div class=\"control-group\">\n                <button id=\"addBoxBtn\">Add Box</button>\n                <button id=\"addSphereBtn\">Add Sphere</button>\n                <button id=\"addRagdollBtn\">Add Ragdoll</button>\n            </div>\n        </div>\n        <div id=\"info\">\n            <div>Click and drag objects to move them</div>\n            <div>Mouse wheel to zoom</div>\n            <div>Right-click and drag to orbit camera</div>\n        </div>\n    </div>\n\n    <!-- Three.js and Cannon.js from CDN -->\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/cannon.js/0.20.0/cannon.min.js\"></script>\n\n    <script>\n        // Global variables\n        let scene, camera, renderer, world, clock;\n        let bodies = [], meshes = [], constraints = [];\n        let raycaster, mouse, isDragging = false, dragConstraint = null;\n        let slowMotion = false;\n\n        // Initialize the scene\n        function init() {\n            // Create scene\n            scene = new THREE.Scene();\n            scene.background = new THREE.Color(0x222222);\n\n            // Create camera\n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n            camera.position.set(0, 5, 10);\n\n            // Create renderer\n            renderer = new THREE.WebGLRenderer({ antialias: true });\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.shadowMap.enabled = true;\n            renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n            document.getElementById('container').appendChild(renderer.domElement);\n\n            // Create physics world\n            world = new CANNON.World();\n            world.gravity.set(0, -9.82, 0);\n            world.broadphase = new CANNON.NaiveBroadphase();\n            world.solver.iterations = 10;\n\n            // Create clock\n            clock = new THREE.Clock();\n\n            // Setup lighting\n            setupLighting();\n\n            // Create ground\n            createGround();\n\n            // Add initial objects\n            addInitialObjects();\n\n            // Setup mouse interaction\n            setupMouseInteraction();\n\n            // Setup controls\n            setupControls();\n\n            // Setup camera controls (basic orbit)\n            setupCameraControls();\n\n            // Start animation loop\n            animate();\n        }\n\n        function setupLighting() {\n            // Ambient light\n            const ambientLight = new THREE.AmbientLight(0x404040, 0.3);\n            scene.add(ambientLight);\n\n            // Directional light\n            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n            directionalLight.position.set(10, 10, 5);\n            directionalLight.castShadow = true;\n            directionalLight.shadow.mapSize.width = 2048;\n            directionalLight.shadow.mapSize.height = 2048;\n            directionalLight.shadow.camera.near = 0.5;\n            directionalLight.shadow.camera.far = 50;\n            directionalLight.shadow.camera.left = -20;\n            directionalLight.shadow.camera.right = 20;\n            directionalLight.shadow.camera.top = 20;\n            directionalLight.shadow.camera.bottom = -20;\n            scene.add(directionalLight);\n\n            // Point light for extra illumination\n            const pointLight = new THREE.PointLight(0xff9000, 0.5, 100);\n            pointLight.position.set(-10, 10, -10);\n            scene.add(pointLight);\n        }\n\n        function createGround() {\n            // Visual ground\n            const groundGeometry = new THREE.PlaneGeometry(40, 40);\n            const groundMaterial = new THREE.MeshLambertMaterial({ \n                color: 0x333333,\n                transparent: true,\n                opacity: 0.8\n            });\n            const groundMesh = new THREE.Mesh(groundGeometry, groundMaterial);\n            groundMesh.rotation.x = -Math.PI / 2;\n            groundMesh.receiveShadow = true;\n            scene.add(groundMesh);\n\n            // Physics ground\n            const groundShape = new CANNON.Plane();\n            const groundBody = new CANNON.Body({ mass: 0 });\n            groundBody.addShape(groundShape);\n            groundBody.quaternion.setFromAxisAngle(new CANNON.Vec3(1, 0, 0), -Math.PI / 2);\n            world.add(groundBody);\n        }\n\n        function addInitialObjects() {\n            // Add some initial boxes\n            for (let i = 0; i < 3; i++) {\n                createBox(new THREE.Vector3(-2 + i, 2 + i * 1.1, 0));\n            }\n\n            // Add some spheres\n            for (let i = 0; i < 2; i++) {\n                createSphere(new THREE.Vector3(2, 3 + i * 2, 0));\n            }\n\n            // Add a ragdoll\n            createRagdoll(new THREE.Vector3(0, 5, 2));\n\n            // Add hinge joint demonstration\n            createHingeJoint();\n        }\n\n        function createBox(position, size = new THREE.Vector3(1, 1, 1)) {\n            // Visual box\n            const geometry = new THREE.BoxGeometry(size.x, size.y, size.z);\n            const material = new THREE.MeshLambertMaterial({ \n                color: new THREE.Color().setHSL(Math.random(), 0.7, 0.5) \n            });\n            const mesh = new THREE.Mesh(geometry, material);\n            mesh.position.copy(position);\n            mesh.castShadow = true;\n            mesh.receiveShadow = true;\n            scene.add(mesh);\n\n            // Physics box\n            const shape = new CANNON.Box(new CANNON.Vec3(size.x/2, size.y/2, size.z/2));\n            const body = new CANNON.Body({ mass: 1 });\n            body.addShape(shape);\n            body.position.set(position.x, position.y, position.z);\n            world.add(body);\n\n            meshes.push(mesh);\n            bodies.push(body);\n\n            return { mesh, body };\n        }\n\n        function createSphere(position, radius = 0.5) {\n            // Visual sphere\n            const geometry = new THREE.SphereGeometry(radius, 32, 32);\n            const material = new THREE.MeshLambertMaterial({ \n                color: new THREE.Color().setHSL(Math.random(), 0.7, 0.5) \n            });\n            const mesh = new THREE.Mesh(geometry, material);\n            mesh.position.copy(position);\n            mesh.castShadow = true;\n            mesh.receiveShadow = true;\n            scene.add(mesh);\n\n            // Physics sphere\n            const shape = new CANNON.Sphere(radius);\n            const body = new CANNON.Body({ mass: 1 });\n            body.addShape(shape);\n            body.position.set(position.x, position.y, position.z);\n            world.add(body);\n\n            meshes.push(mesh);\n            bodies.push(body);\n\n            return { mesh, body };\n        }\n\n        function createRagdoll(position) {\n            const ragdollParts = [];\n            \n            // Head\n            const head = createSphere(new THREE.Vector3(position.x, position.y + 1.5, position.z), 0.3);\n            head.mesh.material.color.setHex(0xffdbac);\n            ragdollParts.push(head);\n\n            // Torso\n            const torso = createBox(new THREE.Vector3(position.x, position.y, position.z), \n                                  new THREE.Vector3(0.8, 1.2, 0.4));\n            torso.mesh.material.color.setHex(0x4169e1);\n            ragdollParts.push(torso);\n\n            // Arms\n            const leftArm = createBox(new THREE.Vector3(position.x - 1, position.y + 0.3, position.z), \n                                    new THREE.Vector3(0.8, 0.3, 0.3));\n            leftArm.mesh.material.color.setHex(0xffdbac);\n            ragdollParts.push(leftArm);\n\n            const rightArm = createBox(new THREE.Vector3(position.x + 1, position.y + 0.3, position.z), \n                                     new THREE.Vector3(0.8, 0.3, 0.3));\n            rightArm.mesh.material.color.setHex(0xffdbac);\n            ragdollParts.push(rightArm);\n\n            // Legs\n            const leftLeg = createBox(new THREE.Vector3(position.x - 0.3, position.y - 1.2, position.z), \n                                    new THREE.Vector3(0.3, 1.0, 0.3));\n            leftLeg.mesh.material.color.setHex(0x000080);\n            ragdollParts.push(leftLeg);\n\n            const rightLeg = createBox(new THREE.Vector3(position.x + 0.3, position.y - 1.2, position.z), \n                                     new THREE.Vector3(0.3, 1.0, 0.3));\n            rightLeg.mesh.material.color.setHex(0x000080);\n            ragdollParts.push(rightLeg);\n\n            // Connect with constraints\n            // Head to torso\n            const headConstraint = new CANNON.PointToPointConstraint(\n                head.body, new CANNON.Vec3(0, -0.3, 0),\n                torso.body, new CANNON.Vec3(0, 0.6, 0)\n            );\n            world.addConstraint(headConstraint);\n            constraints.push(headConstraint);\n\n            // Arms to torso\n            const leftArmConstraint = new CANNON.PointToPointConstraint(\n                leftArm.body, new CANNON.Vec3(0.4, 0, 0),\n                torso.body, new CANNON.Vec3(-0.4, 0.3, 0)\n            );\n            world.addConstraint(leftArmConstraint);\n            constraints.push(leftArmConstraint);\n\n            const rightArmConstraint = new CANNON.PointToPointConstraint(\n                rightArm.body, new CANNON.Vec3(-0.4, 0, 0),\n                torso.body, new CANNON.Vec3(0.4, 0.3, 0)\n            );\n            world.addConstraint(rightArmConstraint);\n            constraints.push(rightArmConstraint);\n\n            // Legs to torso\n            const leftLegConstraint = new CANNON.PointToPointConstraint(\n                leftLeg.body, new CANNON.Vec3(0, 0.5, 0),\n                torso.body, new CANNON.Vec3(-0.3, -0.6, 0)\n            );\n            world.addConstraint(leftLegConstraint);\n            constraints.push(leftLegConstraint);\n\n            const rightLegConstraint = new CANNON.PointToPointConstraint(\n                rightLeg.body, new CANNON.Vec3(0, 0.5, 0),\n                torso.body, new CANNON.Vec3(0.3, -0.6, 0)\n            );\n            world.addConstraint(rightLegConstraint);\n            constraints.push(rightLegConstraint);\n        }\n\n        function createHingeJoint() {\n            // Create two boxes connected by a hinge\n            const box1 = createBox(new THREE.Vector3(-5, 3, 0), new THREE.Vector3(2, 0.2, 0.5));\n            const box2 = createBox(new THREE.Vector3(-3, 3, 0), new THREE.Vector3(2, 0.2, 0.5));\n            \n            box1.mesh.material.color.setHex(0xff6b6b);\n            box2.mesh.material.color.setHex(0x4ecdc4);\n\n            // Create hinge constraint\n            const hingeConstraint = new CANNON.HingeConstraint(\n                box1.body, box2.body,\n                {\n                    pivotA: new CANNON.Vec3(1, 0, 0),\n                    pivotB: new CANNON.Vec3(-1, 0, 0),\n                    axisA: new CANNON.Vec3(0, 0, 1),\n                    axisB: new CANNON.Vec3(0, 0, 1)\n                }\n            );\n            world.addConstraint(hingeConstraint);\n            constraints.push(hingeConstraint);\n        }\n\n        function setupMouseInteraction() {\n            raycaster = new THREE.Raycaster();\n            mouse = new THREE.Vector2();\n\n            renderer.",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 44.068071126937866,
    "status": "success",
    "timestamp": "2025-08-29 17:29:55"
  },
  {
    "test_name": "data_driven_dashboard",
    "prompt": "Create a complete HTML file with Three.js that creates a 3D analytics scene turning a random dataset into bars, scatter points, and ribbons on a 3D grid. Include axis helpers, tooltips on hover, camera tween to views, theme toggle (dark/light), and CSV export of generated data. The HTML file should be self-contained with Three.js loaded from CDN and include sample data generation. Save the output as 'data_dashboard.html'.",
    "response": "I'll create a comprehensive 3D analytics dashboard with Three.js. Here's the complete HTML file:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>3D Data Dashboard</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        body {\n            font-family: 'Arial', sans-serif;\n            overflow: hidden;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            transition: all 0.3s ease;\n        }\n\n        body.dark {\n            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);\n        }\n\n        #container {\n            width: 100vw;\n            height: 100vh;\n            position: relative;\n        }\n\n        #ui {\n            position: absolute;\n            top: 20px;\n            left: 20px;\n            z-index: 100;\n            color: white;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 20px;\n            border-radius: 10px;\n            backdrop-filter: blur(10px);\n            min-width: 300px;\n        }\n\n        .ui-section {\n            margin-bottom: 20px;\n        }\n\n        .ui-title {\n            font-size: 18px;\n            margin-bottom: 10px;\n            color: #4ecdc4;\n        }\n\n        button {\n            background: #4ecdc4;\n            border: none;\n            color: white;\n            padding: 10px 15px;\n            border-radius: 5px;\n            cursor: pointer;\n            margin: 5px;\n            font-size: 14px;\n            transition: all 0.3s ease;\n        }\n\n        button:hover {\n            background: #45b7b8;\n            transform: translateY(-2px);\n        }\n\n        .view-buttons {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 5px;\n        }\n\n        .toggle-container {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n        }\n\n        .switch {\n            position: relative;\n            display: inline-block;\n            width: 60px;\n            height: 34px;\n        }\n\n        .switch input {\n            opacity: 0;\n            width: 0;\n            height: 0;\n        }\n\n        .slider {\n            position: absolute;\n            cursor: pointer;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background-color: #ccc;\n            transition: .4s;\n            border-radius: 34px;\n        }\n\n        .slider:before {\n            position: absolute;\n            content: \"\";\n            height: 26px;\n            width: 26px;\n            left: 4px;\n            bottom: 4px;\n            background-color: white;\n            transition: .4s;\n            border-radius: 50%;\n        }\n\n        input:checked + .slider {\n            background-color: #4ecdc4;\n        }\n\n        input:checked + .slider:before {\n            transform: translateX(26px);\n        }\n\n        #tooltip {\n            position: absolute;\n            background: rgba(0, 0, 0, 0.9);\n            color: white;\n            padding: 10px;\n            border-radius: 5px;\n            pointer-events: none;\n            z-index: 1000;\n            font-size: 12px;\n            max-width: 200px;\n            display: none;\n        }\n\n        .stats {\n            font-size: 12px;\n            color: #bbb;\n            margin-top: 10px;\n        }\n\n        .data-controls {\n            display: flex;\n            flex-direction: column;\n            gap: 10px;\n        }\n\n        .slider-container {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n        }\n\n        .slider-container input[type=\"range\"] {\n            flex: 1;\n        }\n\n        .slider-container label {\n            min-width: 80px;\n            font-size: 12px;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"container\">\n        <div id=\"ui\">\n            <div class=\"ui-section\">\n                <div class=\"ui-title\">3D Data Dashboard</div>\n                <div class=\"toggle-container\">\n                    <span>Light</span>\n                    <label class=\"switch\">\n                        <input type=\"checkbox\" id=\"themeToggle\">\n                        <span class=\"slider\"></span>\n                    </label>\n                    <span>Dark</span>\n                </div>\n            </div>\n\n            <div class=\"ui-section\">\n                <div class=\"ui-title\">Views</div>\n                <div class=\"view-buttons\">\n                    <button onclick=\"setCameraView('overview')\">Overview</button>\n                    <button onclick=\"setCameraView('side')\">Side</button>\n                    <button onclick=\"setCameraView('top')\">Top</button>\n                    <button onclick=\"setCameraView('front')\">Front</button>\n                </div>\n            </div>\n\n            <div class=\"ui-section\">\n                <div class=\"ui-title\">Data Controls</div>\n                <div class=\"data-controls\">\n                    <div class=\"slider-container\">\n                        <label>Data Points:</label>\n                        <input type=\"range\" id=\"dataPoints\" min=\"10\" max=\"100\" value=\"50\">\n                        <span id=\"dataPointsValue\">50</span>\n                    </div>\n                    <button onclick=\"generateNewData()\">Generate New Data</button>\n                    <button onclick=\"exportCSV()\">Export CSV</button>\n                </div>\n            </div>\n\n            <div class=\"ui-section\">\n                <div class=\"ui-title\">Visualization</div>\n                <button onclick=\"toggleBars()\">Toggle Bars</button>\n                <button onclick=\"toggleScatter()\">Toggle Scatter</button>\n                <button onclick=\"toggleRibbons()\">Toggle Ribbons</button>\n            </div>\n\n            <div class=\"stats\" id=\"stats\">\n                Loading...\n            </div>\n        </div>\n    </div>\n\n    <div id=\"tooltip\"></div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/libs/tween.min.js\"></script>\n\n    <script>\n        // Global variables\n        let scene, camera, renderer, controls;\n        let dataPoints = [];\n        let bars = [], scatterPoints = [], ribbons = [];\n        let barsGroup, scatterGroup, ribbonsGroup;\n        let isDarkTheme = false;\n        let raycaster, mouse;\n        let tooltip;\n        let currentDataSize = 50;\n\n        // Visibility flags\n        let showBars = true, showScatter = true, showRibbons = true;\n\n        // Initialize the scene\n        function init() {\n            // Create scene\n            scene = new THREE.Scene();\n            \n            // Create camera\n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n            camera.position.set(50, 50, 50);\n\n            // Create renderer\n            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.shadowMap.enabled = true;\n            renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n            document.getElementById('container').appendChild(renderer.domElement);\n\n            // Create controls\n            controls = new THREE.OrbitControls(camera, renderer.domElement);\n            controls.enableDamping = true;\n            controls.dampingFactor = 0.05;\n\n            // Setup raycaster for hover detection\n            raycaster = new THREE.Raycaster();\n            mouse = new THREE.Vector2();\n            tooltip = document.getElementById('tooltip');\n\n            // Create groups for different visualization types\n            barsGroup = new THREE.Group();\n            scatterGroup = new THREE.Group();\n            ribbonsGroup = new THREE.Group();\n            scene.add(barsGroup);\n            scene.add(scatterGroup);\n            scene.add(ribbonsGroup);\n\n            // Setup lighting\n            setupLighting();\n\n            // Create grid and axes\n            createGrid();\n            createAxes();\n\n            // Generate initial data\n            generateData();\n\n            // Create visualizations\n            createBars();\n            createScatterPoints();\n            createRibbons();\n\n            // Setup event listeners\n            setupEventListeners();\n\n            // Start animation loop\n            animate();\n\n            updateStats();\n        }\n\n        function setupLighting() {\n            // Ambient light\n            const ambientLight = new THREE.AmbientLight(0x404040, 0.6);\n            scene.add(ambientLight);\n\n            // Directional light\n            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n            directionalLight.position.set(50, 50, 25);\n            directionalLight.castShadow = true;\n            directionalLight.shadow.mapSize.width = 2048;\n            directionalLight.shadow.mapSize.height = 2048;\n            scene.add(directionalLight);\n\n            // Point lights for better visualization\n            const pointLight1 = new THREE.PointLight(0x4ecdc4, 0.5, 100);\n            pointLight1.position.set(25, 25, 25);\n            scene.add(pointLight1);\n\n            const pointLight2 = new THREE.PointLight(0xff6b6b, 0.5, 100);\n            pointLight2.position.set(-25, 25, -25);\n            scene.add(pointLight2);\n        }\n\n        function createGrid() {\n            const gridHelper = new THREE.GridHelper(100, 20, 0x444444, 0x444444);\n            gridHelper.material.transparent = true;\n            gridHelper.material.opacity = 0.3;\n            scene.add(gridHelper);\n        }\n\n        function createAxes() {\n            const axesHelper = new THREE.AxesHelper(30);\n            scene.add(axesHelper);\n\n            // Add axis labels\n            const loader = new THREE.FontLoader();\n            \n            // Create simple text sprites for axis labels\n            createTextSprite('X', { x: 32, y: 0, z: 0 }, 0xff0000);\n            createTextSprite('Y', { x: 0, y: 32, z: 0 }, 0x00ff00);\n            createTextSprite('Z', { x: 0, y: 0, z: 32 }, 0x0000ff);\n        }\n\n        function createTextSprite(text, position, color) {\n            const canvas = document.createElement('canvas');\n            const context = canvas.getContext('2d');\n            canvas.width = 64;\n            canvas.height = 64;\n            \n            context.fillStyle = `#${color.toString(16).padStart(6, '0')}`;\n            context.font = 'Bold 40px Arial';\n            context.textAlign = 'center';\n            context.fillText(text, 32, 40);\n\n            const texture = new THREE.CanvasTexture(canvas);\n            const material = new THREE.SpriteMaterial({ map: texture });\n            const sprite = new THREE.Sprite(material);\n            sprite.position.set(position.x, position.y, position.z);\n            sprite.scale.set(5, 5, 1);\n            scene.add(sprite);\n        }\n\n        function generateData() {\n            dataPoints = [];\n            for (let i = 0; i < currentDataSize; i++) {\n                dataPoints.push({\n                    id: i,\n                    x: (Math.random() - 0.5) * 80,\n                    y: Math.random() * 40,\n                    z: (Math.random() - 0.5) * 80,\n                    value: Math.random() * 100,\n                    category: Math.floor(Math.random() * 5),\n                    timestamp: new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000)\n                });\n            }\n        }\n\n        function createBars() {\n            // Clear existing bars\n            barsGroup.clear();\n            bars = [];\n\n            dataPoints.forEach((point, index) => {\n                const geometry = new THREE.BoxGeometry(2, point.value / 5, 2);\n                const material = new THREE.MeshLambertMaterial({\n                    color: new THREE.Color().setHSL(point.category / 5, 0.7, 0.5)\n                });\n\n                const bar = new THREE.Mesh(geometry, material);\n                bar.position.set(point.x, point.value / 10, point.z);\n                bar.castShadow = true;\n                bar.userData = { type: 'bar', dataIndex: index, ...point };\n\n                barsGroup.add(bar);\n                bars.push(bar);\n            });\n        }\n\n        function createScatterPoints() {\n            // Clear existing scatter points\n            scatterGroup.clear();\n            scatterPoints = [];\n\n            dataPoints.forEach((point, index) => {\n                const geometry = new THREE.SphereGeometry(0.5 + point.value / 100, 16, 16);\n                const material = new THREE.MeshPhongMaterial({\n                    color: new THREE.Color().setHSL(point.category / 5, 0.8, 0.6),\n                    transparent: true,\n                    opacity: 0.8\n                });\n\n                const sphere = new THREE.Mesh(geometry, material);\n                sphere.position.set(point.x, point.y, point.z);\n                sphere.userData = { type: 'scatter', dataIndex: index, ...point };\n\n                scatterGroup.add(sphere);\n                scatterPoints.push(sphere);\n            });\n        }\n\n        function createRibbons() {\n            // Clear existing ribbons\n            ribbonsGroup.clear();\n            ribbons = [];\n\n            // Sort points by x coordinate for ribbon creation\n            const sortedPoints = [...dataPoints].sort((a, b) => a.x - b.x);\n\n            for (let i = 0; i < sortedPoints.length - 1; i += 2) {\n                const point1 = sortedPoints[i];\n                const point2 = sortedPoints[i + 1];\n\n                if (!point2) break;\n\n                const curve = new THREE.CatmullRomCurve3([\n                    new THREE.Vector3(point1.x, point1.y, point1.z),\n                    new THREE.Vector3((point1.x + point2.x) / 2, (point1.y + point2.y) / 2 + 5, (point1.z + point2.z) / 2),\n                    new THREE.Vector3(point2.x, point2.y, point2.z)\n                ]);\n\n                const geometry = new THREE.TubeGeometry(curve, 20, 0.2, 8, false);\n                const material = new THREE.MeshPhongMaterial({\n                    color: new THREE.Color().setHSL((point1.category + point2.category) / 10, 0.6, 0.7),\n                    transparent: true,\n                    opacity: 0.7\n                });\n\n                const ribbon = new THREE.Mesh(geometry, material);\n                ribbon.userData = { type: 'ribbon', point1, point2 };\n\n                ribbonsGroup.add(ribbon);\n                ribbons.push(ribbon);\n            }",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 52.34455871582031,
    "status": "success",
    "timestamp": "2025-08-29 17:30:48"
  },
  {
    "test_name": "molecular_explorer",
    "prompt": "Create a complete HTML file with Three.js that renders molecules from a provided or random molecular structure with ball-and-stick and space-filling modes, bond inference, atom coloring by element, section clipping, explode animation, and snapshot export. Include sample molecules (water, caffeine, DNA segment). The HTML file should be self-contained with Three.js loaded from CDN. Save the output as 'molecular_explorer.html'.",
    "response": "I'll create a comprehensive molecular explorer with all the requested features. Here's the complete HTML file:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Molecular Explorer</title>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js\"></script>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            background: #000;\n            font-family: Arial, sans-serif;\n            overflow: hidden;\n        }\n        \n        #container {\n            position: relative;\n            width: 100vw;\n            height: 100vh;\n        }\n        \n        #controls {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            background: rgba(0, 0, 0, 0.8);\n            padding: 15px;\n            border-radius: 10px;\n            color: white;\n            z-index: 100;\n            max-width: 300px;\n        }\n        \n        .control-group {\n            margin-bottom: 15px;\n        }\n        \n        label {\n            display: block;\n            margin-bottom: 5px;\n            font-size: 12px;\n        }\n        \n        select, button, input[type=\"range\"] {\n            width: 100%;\n            padding: 5px;\n            margin-bottom: 5px;\n            border: none;\n            border-radius: 3px;\n            background: #333;\n            color: white;\n        }\n        \n        button {\n            cursor: pointer;\n            background: #007acc;\n            transition: background 0.3s;\n        }\n        \n        button:hover {\n            background: #005a99;\n        }\n        \n        #info {\n            position: absolute;\n            bottom: 10px;\n            left: 10px;\n            background: rgba(0, 0, 0, 0.8);\n            padding: 10px;\n            border-radius: 5px;\n            color: white;\n            font-size: 12px;\n            z-index: 100;\n        }\n        \n        .slider-container {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n        }\n        \n        .slider-value {\n            min-width: 40px;\n            text-align: center;\n            font-size: 11px;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"container\">\n        <div id=\"controls\">\n            <div class=\"control-group\">\n                <label>Molecule:</label>\n                <select id=\"moleculeSelect\">\n                    <option value=\"water\">Water (H\u2082O)</option>\n                    <option value=\"caffeine\">Caffeine</option>\n                    <option value=\"dna\">DNA Segment</option>\n                    <option value=\"methane\">Methane</option>\n                    <option value=\"benzene\">Benzene</option>\n                    <option value=\"ethanol\">Ethanol</option>\n                </select>\n            </div>\n            \n            <div class=\"control-group\">\n                <label>Rendering Mode:</label>\n                <select id=\"renderMode\">\n                    <option value=\"ballstick\">Ball & Stick</option>\n                    <option value=\"spacefill\">Space Filling</option>\n                </select>\n            </div>\n            \n            <div class=\"control-group\">\n                <label>Explode Factor:</label>\n                <div class=\"slider-container\">\n                    <input type=\"range\" id=\"explodeSlider\" min=\"1\" max=\"3\" step=\"0.1\" value=\"1\">\n                    <span class=\"slider-value\" id=\"explodeValue\">1.0</span>\n                </div>\n            </div>\n            \n            <div class=\"control-group\">\n                <label>Clipping Plane:</label>\n                <div class=\"slider-container\">\n                    <input type=\"range\" id=\"clippingSlider\" min=\"-10\" max=\"10\" step=\"0.1\" value=\"10\">\n                    <span class=\"slider-value\" id=\"clippingValue\">Off</span>\n                </div>\n            </div>\n            \n            <div class=\"control-group\">\n                <button id=\"animateBtn\">Toggle Animation</button>\n                <button id=\"exportBtn\">Export Snapshot</button>\n                <button id=\"resetBtn\">Reset View</button>\n            </div>\n        </div>\n        \n        <div id=\"info\">\n            <div>Mouse: Rotate | Wheel: Zoom | Right-click: Pan</div>\n            <div id=\"moleculeInfo\"></div>\n        </div>\n    </div>\n\n    <script>\n        // Global variables\n        let scene, camera, renderer, controls;\n        let moleculeGroup, atomsGroup, bondsGroup;\n        let currentMolecule = null;\n        let animationId = null;\n        let isAnimating = false;\n        let clippingPlane = null;\n        \n        // Element properties (colors and van der Waals radii in \u00c5)\n        const elementData = {\n            'H': { color: 0xffffff, radius: 1.20 },\n            'C': { color: 0x909090, radius: 1.70 },\n            'N': { color: 0x3050f8, radius: 1.55 },\n            'O': { color: 0xff0d0d, radius: 1.52 },\n            'P': { color: 0xff8000, radius: 1.80 },\n            'S': { color: 0xffff30, radius: 1.80 }\n        };\n        \n        // Sample molecular structures\n        const molecules = {\n            water: {\n                name: \"Water (H\u2082O)\",\n                atoms: [\n                    { element: 'O', x: 0, y: 0, z: 0 },\n                    { element: 'H', x: 0.757, y: 0.587, z: 0 },\n                    { element: 'H', x: -0.757, y: 0.587, z: 0 }\n                ]\n            },\n            methane: {\n                name: \"Methane (CH\u2084)\",\n                atoms: [\n                    { element: 'C', x: 0, y: 0, z: 0 },\n                    { element: 'H', x: 0.629, y: 0.629, z: 0.629 },\n                    { element: 'H', x: -0.629, y: -0.629, z: 0.629 },\n                    { element: 'H', x: -0.629, y: 0.629, z: -0.629 },\n                    { element: 'H', x: 0.629, y: -0.629, z: -0.629 }\n                ]\n            },\n            benzene: {\n                name: \"Benzene (C\u2086H\u2086)\",\n                atoms: [\n                    { element: 'C', x: 1.4, y: 0, z: 0 },\n                    { element: 'C', x: 0.7, y: 1.21, z: 0 },\n                    { element: 'C', x: -0.7, y: 1.21, z: 0 },\n                    { element: 'C', x: -1.4, y: 0, z: 0 },\n                    { element: 'C', x: -0.7, y: -1.21, z: 0 },\n                    { element: 'C', x: 0.7, y: -1.21, z: 0 },\n                    { element: 'H', x: 2.49, y: 0, z: 0 },\n                    { element: 'H', x: 1.245, y: 2.157, z: 0 },\n                    { element: 'H', x: -1.245, y: 2.157, z: 0 },\n                    { element: 'H', x: -2.49, y: 0, z: 0 },\n                    { element: 'H', x: -1.245, y: -2.157, z: 0 },\n                    { element: 'H', x: 1.245, y: -2.157, z: 0 }\n                ]\n            },\n            ethanol: {\n                name: \"Ethanol (C\u2082H\u2085OH)\",\n                atoms: [\n                    { element: 'C', x: -0.748, y: -0.015, z: 0 },\n                    { element: 'C', x: 0.748, y: 0.015, z: 0 },\n                    { element: 'O', x: 1.558, y: -1.161, z: 0 },\n                    { element: 'H', x: -1.293, y: 0.932, z: 0 },\n                    { element: 'H', x: -1.115, y: -0.553, z: 0.903 },\n                    { element: 'H', x: -1.115, y: -0.553, z: -0.903 },\n                    { element: 'H', x: 1.115, y: 0.553, z: 0.903 },\n                    { element: 'H', x: 1.115, y: 0.553, z: -0.903 },\n                    { element: 'H', x: 2.465, y: -1.023, z: 0 }\n                ]\n            },\n            caffeine: {\n                name: \"Caffeine (C\u2088H\u2081\u2080N\u2084O\u2082)\",\n                atoms: [\n                    { element: 'C', x: -1.24, y: -0.12, z: 0.02 },\n                    { element: 'C', x: 0.15, y: -0.13, z: 0.01 },\n                    { element: 'C', x: 0.91, y: 1.07, z: -0.01 },\n                    { element: 'C', x: 2.31, y: 1.06, z: -0.02 },\n                    { element: 'C', x: 1.05, y: -1.21, z: 0.02 },\n                    { element: 'C', x: 2.43, y: -0.96, z: 0.01 },\n                    { element: 'C', x: -0.55, y: 2.35, z: -0.02 },\n                    { element: 'C', x: -3.55, y: 0.74, z: 0.03 },\n                    { element: 'N', x: -2.17, y: 0.93, z: 0.02 },\n                    { element: 'N', x: 0.23, y: 2.24, z: -0.01 },\n                    { element: 'N', x: 2.95, y: -0.23, z: -0.01 },\n                    { element: 'N', x: -2.01, y: -1.21, z: 0.03 },\n                    { element: 'O', x: 2.98, y: 2.08, z: -0.04 },\n                    { element: 'O', x: -1.13, y: 3.46, z: -0.04 },\n                    { element: 'H', x: 0.69, y: -2.21, z: 0.04 },\n                    { element: 'H', x: 3.25, y: -1.67, z: 0.02 },\n                    { element: 'H', x: -3.85, y: -0.30, z: 0.04 },\n                    { element: 'H', x: -4.13, y: 1.18, z: -0.83 },\n                    { element: 'H', x: -4.13, y: 1.18, z: 0.89 },\n                    { element: 'H', x: -3.55, y: -1.95, z: 0.04 },\n                    { element: 'H', x: -1.55, y: -1.95, z: -0.83 },\n                    { element: 'H', x: -1.55, y: -1.95, z: 0.89 },\n                    { element: 'H', x: 4.02, y: -0.21, z: -0.02 },\n                    { element: 'H', x: 0.87, y: 3.05, z: -0.02 }\n                ]\n            },\n            dna: {\n                name: \"DNA Base Pair (A-T)\",\n                atoms: [\n                    // Adenine\n                    { element: 'C', x: -2.4, y: 1.2, z: 0 },\n                    { element: 'C', x: -1.2, y: 0.6, z: 0 },\n                    { element: 'C', x: -1.2, y: -0.6, z: 0 },\n                    { element: 'N', x: -2.4, y: -1.2, z: 0 },\n                    { element: 'C', x: -3.6, y: -0.6, z: 0 },\n                    { element: 'N', x: -3.6, y: 0.6, z: 0 },\n                    { element: 'N', x: 0, y: 1.2, z: 0 },\n                    { element: 'C', x: 0, y: 0, z: 0 },\n                    { element: 'N', x: 0, y: -1.2, z: 0 },\n                    { element: 'N', x: -4.8, y: -1.2, z: 0 },\n                    // Thymine\n                    { element: 'C', x: 2.4, y: 1.2, z: 0 },\n                    { element: 'C', x: 1.2, y: 0.6, z: 0 },\n                    { element: 'C', x: 1.2, y: -0.6, z: 0 },\n                    { element: 'N', x: 2.4, y: -1.2, z: 0 },\n                    { element: 'C', x: 3.6, y: -0.6, z: 0 },\n                    { element: 'N', x: 3.6, y: 0.6, z: 0 },\n                    { element: 'O', x: 2.4, y: 2.4, z: 0 },\n                    { element: 'O', x: 4.8, y: -1.2, z: 0 },\n                    { element: 'C', x: 0, y: -2.4, z: 0 },\n                    // Hydrogen bonds\n                    { element: 'H', x: -1.2, y: 2.1, z: 0 },\n                    { element: 'H', x: 1.2, y: 2.1, z: 0 },\n                    { element: 'H', x: -5.4, y: -0.6, z: 0 },\n                    { element: 'H', x: -5.4, y: -2.1, z: 0 },\n                    { element: 'H', x: 4.2, y: 1.2, z: 0 },\n                    { element: 'H', x: 0.6, y",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 50.63867115974426,
    "status": "success",
    "timestamp": "2025-08-29 17:31:38"
  },
  {
    "test_name": "space_shooter_prototype",
    "prompt": "Create a complete HTML file with Three.js that builds a simple on-rails space shooter with starfield background, enemy waves (instanced meshes), laser projectiles, hit effects (GPU particles), health/score UI, and post-processing bloom. Provide difficulty scaling and mobile touch controls. The HTML file should be self-contained with Three.js loaded from CDN. Save the output as 'space_shooter.html'.",
    "response": "I'll create a complete HTML file for a space shooter game with all the requested features. Here's the self-contained game:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Space Shooter</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            background: black;\n            font-family: 'Courier New', monospace;\n            user-select: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n        }\n\n        #gameContainer {\n            position: relative;\n            width: 100vw;\n            height: 100vh;\n        }\n\n        #ui {\n            position: absolute;\n            top: 20px;\n            left: 20px;\n            color: #00ff00;\n            font-size: 18px;\n            z-index: 100;\n            text-shadow: 0 0 10px #00ff00;\n        }\n\n        #gameOver {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            color: #ff0000;\n            font-size: 24px;\n            text-align: center;\n            z-index: 101;\n            display: none;\n            text-shadow: 0 0 20px #ff0000;\n        }\n\n        #controls {\n            position: absolute;\n            bottom: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            color: #ffffff;\n            text-align: center;\n            font-size: 14px;\n            z-index: 100;\n            opacity: 0.7;\n        }\n\n        #mobileControls {\n            position: absolute;\n            bottom: 20px;\n            width: 100%;\n            height: 150px;\n            z-index: 100;\n            display: none;\n        }\n\n        .joystick {\n            position: absolute;\n            bottom: 20px;\n            left: 20px;\n            width: 100px;\n            height: 100px;\n            background: rgba(255, 255, 255, 0.1);\n            border: 2px solid rgba(255, 255, 255, 0.3);\n            border-radius: 50%;\n        }\n\n        .joystick-knob {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            width: 30px;\n            height: 30px;\n            background: rgba(0, 255, 0, 0.5);\n            border: 2px solid #00ff00;\n            border-radius: 50%;\n            transform: translate(-50%, -50%);\n            transition: all 0.1s ease;\n        }\n\n        .fire-button {\n            position: absolute;\n            bottom: 20px;\n            right: 20px;\n            width: 80px;\n            height: 80px;\n            background: rgba(255, 0, 0, 0.3);\n            border: 2px solid #ff0000;\n            border-radius: 50%;\n            color: #ff0000;\n            font-size: 12px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            text-shadow: 0 0 10px #ff0000;\n        }\n\n        @media (max-width: 768px) {\n            #mobileControls {\n                display: block;\n            }\n            #controls {\n                display: none;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div id=\"gameContainer\">\n        <div id=\"ui\">\n            <div>Health: <span id=\"health\">100</span></div>\n            <div>Score: <span id=\"score\">0</span></div>\n            <div>Wave: <span id=\"wave\">1</span></div>\n        </div>\n\n        <div id=\"gameOver\">\n            <div>GAME OVER</div>\n            <div style=\"font-size: 16px; margin-top: 20px;\">Final Score: <span id=\"finalScore\">0</span></div>\n            <div style=\"font-size: 14px; margin-top: 10px;\">Press R to restart</div>\n        </div>\n\n        <div id=\"controls\">\n            <div>WASD / Arrow Keys: Move | Space: Fire | R: Restart</div>\n        </div>\n\n        <div id=\"mobileControls\">\n            <div class=\"joystick\">\n                <div class=\"joystick-knob\"></div>\n            </div>\n            <div class=\"fire-button\">FIRE</div>\n        </div>\n    </div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/LuminosityHighPassShader.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.js\"></script>\n\n    <script>\n        class SpaceShooter {\n            constructor() {\n                this.scene = new THREE.Scene();\n                this.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n                this.renderer = new THREE.WebGLRenderer({ antialias: true });\n                this.renderer.setSize(window.innerWidth, window.innerHeight);\n                this.renderer.setClearColor(0x000000);\n                document.getElementById('gameContainer').appendChild(this.renderer.domElement);\n\n                // Game state\n                this.gameState = {\n                    health: 100,\n                    score: 0,\n                    wave: 1,\n                    gameOver: false,\n                    enemiesKilled: 0,\n                    waveEnemies: 10\n                };\n\n                // Input handling\n                this.keys = {};\n                this.mobile = {\n                    isTouch: false,\n                    moveX: 0,\n                    moveY: 0,\n                    firing: false\n                };\n\n                this.init();\n                this.setupEventListeners();\n                this.animate();\n            }\n\n            init() {\n                // Camera setup\n                this.camera.position.z = 5;\n\n                // Lighting\n                const ambientLight = new THREE.AmbientLight(0x404040, 0.6);\n                this.scene.add(ambientLight);\n\n                const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n                directionalLight.position.set(-1, 0, 1);\n                this.scene.add(directionalLight);\n\n                // Player ship\n                this.createPlayer();\n\n                // Starfield\n                this.createStarfield();\n\n                // Game objects arrays\n                this.enemies = [];\n                this.lasers = [];\n                this.particles = [];\n\n                // Enemy spawning\n                this.lastEnemySpawn = 0;\n                this.enemySpawnRate = 1000; // milliseconds\n\n                // Laser timing\n                this.lastLaserFired = 0;\n                this.laserCooldown = 150; // milliseconds\n\n                // Post-processing\n                this.setupPostProcessing();\n\n                // Start spawning enemies\n                this.spawnWave();\n            }\n\n            createPlayer() {\n                const geometry = new THREE.ConeGeometry(0.3, 1, 8);\n                const material = new THREE.MeshLambertMaterial({ \n                    color: 0x00ff00,\n                    emissive: 0x004400\n                });\n                \n                this.player = new THREE.Mesh(geometry, material);\n                this.player.position.z = 0;\n                this.player.rotation.x = Math.PI / 2;\n                this.scene.add(this.player);\n\n                this.playerSpeed = 5;\n                this.playerBounds = { x: 8, y: 4.5 };\n            }\n\n            createStarfield() {\n                const starGeometry = new THREE.BufferGeometry();\n                const starCount = 1000;\n                const positions = new Float32Array(starCount * 3);\n                \n                for (let i = 0; i < starCount; i++) {\n                    positions[i * 3] = (Math.random() - 0.5) * 200;\n                    positions[i * 3 + 1] = (Math.random() - 0.5) * 200;\n                    positions[i * 3 + 2] = (Math.random() - 0.5) * 200;\n                }\n                \n                starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n                \n                const starMaterial = new THREE.PointsMaterial({\n                    color: 0xffffff,\n                    size: 2,\n                    sizeAttenuation: false\n                });\n                \n                this.stars = new THREE.Points(starGeometry, starMaterial);\n                this.scene.add(this.stars);\n            }\n\n            spawnWave() {\n                const enemiesInWave = this.gameState.waveEnemies + (this.gameState.wave - 1) * 5;\n                this.currentWaveEnemies = 0;\n                this.maxWaveEnemies = enemiesInWave;\n            }\n\n            spawnEnemy() {\n                if (this.currentWaveEnemies >= this.maxWaveEnemies) return;\n\n                const geometry = new THREE.OctahedronGeometry(0.4);\n                const material = new THREE.MeshLambertMaterial({ \n                    color: 0xff0000,\n                    emissive: 0x440000\n                });\n                \n                const enemy = new THREE.Mesh(geometry, material);\n                enemy.position.x = (Math.random() - 0.5) * 16;\n                enemy.position.y = (Math.random() - 0.5) * 9;\n                enemy.position.z = -20;\n                \n                enemy.velocity = {\n                    x: (Math.random() - 0.5) * 2,\n                    y: (Math.random() - 0.5) * 2,\n                    z: 2 + Math.random() * 3\n                };\n                \n                this.enemies.push(enemy);\n                this.scene.add(enemy);\n                this.currentWaveEnemies++;\n            }\n\n            fireLaser() {\n                const now = Date.now();\n                if (now - this.lastLaserFired < this.laserCooldown) return;\n\n                const geometry = new THREE.CylinderGeometry(0.05, 0.05, 0.5, 8);\n                const material = new THREE.MeshLambertMaterial({ \n                    color: 0x00ffff,\n                    emissive: 0x0088aa\n                });\n                \n                const laser = new THREE.Mesh(geometry, material);\n                laser.position.copy(this.player.position);\n                laser.position.z -= 0.5;\n                laser.rotation.x = Math.PI / 2;\n                \n                this.lasers.push(laser);\n                this.scene.add(laser);\n                this.lastLaserFired = now;\n            }\n\n            createExplosion(position) {\n                const particleCount = 20;\n                for (let i = 0; i < particleCount; i++) {\n                    const geometry = new THREE.SphereGeometry(0.05);\n                    const material = new THREE.MeshLambertMaterial({ \n                        color: new THREE.Color().setHSL(Math.random() * 0.1 + 0.05, 1, 0.5),\n                        emissive: new THREE.Color().setHSL(Math.random() * 0.1 + 0.05, 1, 0.3)\n                    });\n                    \n                    const particle = new THREE.Mesh(geometry, material);\n                    particle.position.copy(position);\n                    particle.velocity = new THREE.Vector3(\n                        (Math.random() - 0.5) * 10,\n                        (Math.random() - 0.5) * 10,\n                        (Math.random() - 0.5) * 10\n                    );\n                    particle.life = 1.0;\n                    particle.decay = 0.02;\n                    \n                    this.particles.push(particle);\n                    this.scene.add(particle);\n                }\n            }\n\n            setupPostProcessing() {\n                this.composer = new THREE.EffectComposer(this.renderer);\n                \n                const renderPass = new THREE.RenderPass(this.scene, this.camera);\n                this.composer.addPass(renderPass);\n                \n                const bloomPass = new THREE.UnrealBloomPass(\n                    new THREE.Vector2(window.innerWidth, window.innerHeight),\n                    1.5, 0.4, 0.85\n                );\n                bloomPass.threshold = 0.21;\n                bloomPass.strength = 1.2;\n                bloomPass.radius = 0.55;\n                this.composer.addPass(bloomPass);\n            }\n\n            setupEventListeners() {\n                // Keyboard events\n                document.addEventListener('keydown', (event) => {\n                    this.keys[event.code] = true;\n                    if (event.code === 'Space') {\n                        event.preventDefault();\n                        this.fireLaser();\n                    }\n                    if (event.code === 'KeyR' && this.gameState.gameOver) {\n                        this.restart();\n                    }\n                });\n\n                document.addEventListener('keyup', (event) => {\n                    this.keys[event.code] = false;\n                });\n\n                // Mobile touch controls\n                this.setupMobileControls();\n\n                // Window resize\n                window.addEventListener('resize', () => {\n                    this.camera.aspect = window.innerWidth / window.innerHeight;\n                    this.camera.updateProjectionMatrix();\n                    this.renderer.setSize(window.innerWidth, window.innerHeight);\n                    this.composer.setSize(window.innerWidth, window.innerHeight);\n                });\n            }\n\n            setupMobileControls() {\n                const joystick = document.querySelector('.joystick');\n                const joystickKnob = document.querySelector('.joystick-knob');\n                const fireButton = document.querySelector('.fire-button');\n\n                let joystickActive = false;\n                let joystickCenter = { x: 0, y: 0 };\n\n                const getJoystickCenter = () => {\n                    const rect = joystick.getBoundingClientRect();\n                    return {\n                        x: rect.left + rect.width / 2,\n                        y: rect.top + rect.height / 2\n                    };\n                };\n\n                // Joystick events\n                joystick.addEventListener('touchstart', (e) => {\n                    e.preventDefault();\n                    joystickActive = true;\n                    joystickCenter = getJoystickCenter();\n                });\n\n                document.addEventListener('touchmove', (e) => {\n                    if (!joystickActive) return;\n                    e.preventDefault();\n                    \n                    const touch = e.touches[0];\n                    const dx = touch.clientX - joystickCenter.x;\n                    const dy = touch.clientY - joystickCenter.y;",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 52.55632305145264,
    "status": "success",
    "timestamp": "2025-08-29 17:32:31"
  },
  {
    "test_name": "architectural_walkthrough",
    "prompt": "Create a complete HTML file with Three.js that creates an interactive walkthrough for a procedurally generated house with first-person controls with collision detection, baked/IBL lighting, light probes, room-based culling, interactive hotspots that toggle materials/furniture, and a minimap. Include multiple rooms and furniture. The HTML file should be self-contained with Three.js loaded from CDN. Save the output as 'architectural_walkthrough.html'.",
    "response": "I'll create a comprehensive architectural walkthrough application with all the requested features. This will be a substantial HTML file with Three.js that includes procedural house generation, first-person controls, collision detection, advanced lighting, and interactive elements.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Architectural Walkthrough</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            background: #000;\n            font-family: Arial, sans-serif;\n        }\n\n        #container {\n            position: relative;\n            width: 100vw;\n            height: 100vh;\n        }\n\n        #ui {\n            position: absolute;\n            top: 0;\n            left: 0;\n            z-index: 100;\n            pointer-events: none;\n        }\n\n        #instructions {\n            position: absolute;\n            top: 20px;\n            left: 20px;\n            color: white;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 15px;\n            border-radius: 5px;\n            font-size: 14px;\n            max-width: 300px;\n        }\n\n        #minimap {\n            position: absolute;\n            top: 20px;\n            right: 20px;\n            width: 200px;\n            height: 200px;\n            background: rgba(0, 0, 0, 0.8);\n            border: 2px solid #fff;\n            border-radius: 5px;\n        }\n\n        #hotspotPanel {\n            position: absolute;\n            bottom: 20px;\n            left: 20px;\n            background: rgba(0, 0, 0, 0.8);\n            color: white;\n            padding: 15px;\n            border-radius: 5px;\n            display: none;\n            pointer-events: auto;\n        }\n\n        .hotspot-button {\n            background: #4CAF50;\n            color: white;\n            border: none;\n            padding: 8px 16px;\n            margin: 5px;\n            border-radius: 3px;\n            cursor: pointer;\n        }\n\n        .hotspot-button:hover {\n            background: #45a049;\n        }\n\n        #crosshair {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            width: 20px;\n            height: 20px;\n            pointer-events: none;\n        }\n\n        #crosshair::before,\n        #crosshair::after {\n            content: '';\n            position: absolute;\n            background: rgba(255, 255, 255, 0.8);\n        }\n\n        #crosshair::before {\n            left: 50%;\n            top: 25%;\n            height: 50%;\n            width: 2px;\n            transform: translateX(-50%);\n        }\n\n        #crosshair::after {\n            top: 50%;\n            left: 25%;\n            width: 50%;\n            height: 2px;\n            transform: translateY(-50%);\n        }\n\n        .room-info {\n            position: absolute;\n            bottom: 80px;\n            left: 20px;\n            color: white;\n            background: rgba(0, 0, 0, 0.7);\n            padding: 10px;\n            border-radius: 5px;\n            font-size: 16px;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"container\">\n        <div id=\"ui\">\n            <div id=\"instructions\">\n                <h3>Controls:</h3>\n                <p>WASD - Move<br>\n                Mouse - Look around<br>\n                E - Interact with hotspots<br>\n                Shift - Run<br>\n                Click to lock cursor</p>\n            </div>\n            \n            <canvas id=\"minimap\"></canvas>\n            \n            <div id=\"hotspotPanel\">\n                <h3>Room Controls</h3>\n                <div id=\"hotspotButtons\"></div>\n            </div>\n            \n            <div id=\"crosshair\"></div>\n            \n            <div id=\"roomInfo\" class=\"room-info\" style=\"display: none;\">\n                <span id=\"roomName\">Living Room</span>\n            </div>\n        </div>\n    </div>\n\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <script>\n        class ArchitecturalWalkthrough {\n            constructor() {\n                this.scene = new THREE.Scene();\n                this.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n                this.renderer = new THREE.WebGLRenderer({ antialias: true });\n                this.clock = new THREE.Clock();\n                \n                // Player properties\n                this.playerHeight = 1.8;\n                this.playerRadius = 0.3;\n                this.moveSpeed = 5;\n                this.runMultiplier = 2;\n                this.mouseSensitivity = 0.002;\n                \n                // Controls\n                this.keys = {};\n                this.mouseX = 0;\n                this.mouseY = 0;\n                this.isPointerLocked = false;\n                \n                // World objects\n                this.walls = [];\n                this.furniture = [];\n                this.rooms = [];\n                this.hotspots = [];\n                this.currentRoom = null;\n                this.culledObjects = [];\n                \n                // Materials\n                this.materials = {};\n                this.lightProbes = [];\n                \n                // Minimap\n                this.minimapCamera = null;\n                this.minimapRenderer = null;\n                this.minimapScene = null;\n                \n                this.init();\n                this.setupEventListeners();\n                this.generateHouse();\n                this.setupLighting();\n                this.setupMinimap();\n                this.animate();\n            }\n            \n            init() {\n                this.renderer.setSize(window.innerWidth, window.innerHeight);\n                this.renderer.shadowMap.enabled = true;\n                this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n                this.renderer.outputEncoding = THREE.sRGBEncoding;\n                this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n                this.renderer.toneMappingExposure = 1.2;\n                \n                document.getElementById('container').appendChild(this.renderer.domElement);\n                \n                // Set initial camera position\n                this.camera.position.set(0, this.playerHeight, 5);\n                \n                // Create materials\n                this.createMaterials();\n            }\n            \n            createMaterials() {\n                // Wall materials\n                this.materials.wall = new THREE.MeshStandardMaterial({ \n                    color: 0xf0f0f0,\n                    roughness: 0.8,\n                    metalness: 0.1 \n                });\n                \n                this.materials.wallAlt = new THREE.MeshStandardMaterial({ \n                    color: 0xe0e0e0,\n                    roughness: 0.9,\n                    metalness: 0.0 \n                });\n                \n                // Floor materials\n                this.materials.floor = new THREE.MeshStandardMaterial({ \n                    color: 0x8B4513,\n                    roughness: 0.7,\n                    metalness: 0.1 \n                });\n                \n                this.materials.carpet = new THREE.MeshStandardMaterial({ \n                    color: 0x654321,\n                    roughness: 0.9,\n                    metalness: 0.0 \n                });\n                \n                // Furniture materials\n                this.materials.wood = new THREE.MeshStandardMaterial({ \n                    color: 0x8B4513,\n                    roughness: 0.6,\n                    metalness: 0.1 \n                });\n                \n                this.materials.fabric = new THREE.MeshStandardMaterial({ \n                    color: 0x4169E1,\n                    roughness: 0.8,\n                    metalness: 0.0 \n                });\n                \n                this.materials.metal = new THREE.MeshStandardMaterial({ \n                    color: 0x708090,\n                    roughness: 0.3,\n                    metalness: 0.8 \n                });\n                \n                this.materials.glass = new THREE.MeshPhysicalMaterial({ \n                    color: 0xffffff,\n                    transmission: 0.9,\n                    opacity: 0.1,\n                    roughness: 0.0,\n                    metalness: 0.0,\n                    transparent: true \n                });\n            }\n            \n            generateHouse() {\n                // Generate floor plan\n                const rooms = [\n                    { name: 'Living Room', x: 0, z: 0, width: 8, depth: 6, type: 'living' },\n                    { name: 'Kitchen', x: 8, z: 0, width: 6, depth: 6, type: 'kitchen' },\n                    { name: 'Bedroom', x: 0, z: -8, width: 8, depth: 8, type: 'bedroom' },\n                    { name: 'Bathroom', x: 8, z: -6, width: 4, depth: 6, type: 'bathroom' },\n                    { name: 'Hallway', x: 4, z: -2, width: 4, depth: 2, type: 'hallway' }\n                ];\n                \n                // Create rooms\n                rooms.forEach(roomData => {\n                    this.createRoom(roomData);\n                });\n                \n                // Create exterior walls\n                this.createExteriorWalls();\n                \n                // Create doorways\n                this.createDoorways();\n            }\n            \n            createRoom(roomData) {\n                const room = {\n                    ...roomData,\n                    furniture: [],\n                    hotspots: [],\n                    bounds: {\n                        minX: roomData.x,\n                        maxX: roomData.x + roomData.width,\n                        minZ: roomData.z,\n                        maxZ: roomData.z + roomData.depth\n                    }\n                };\n                \n                // Create floor\n                const floorGeometry = new THREE.PlaneGeometry(roomData.width, roomData.depth);\n                const floorMaterial = roomData.type === 'bedroom' ? this.materials.carpet : this.materials.floor;\n                const floor = new THREE.Mesh(floorGeometry, floorMaterial);\n                floor.rotation.x = -Math.PI / 2;\n                floor.position.set(\n                    roomData.x + roomData.width / 2,\n                    0,\n                    roomData.z + roomData.depth / 2\n                );\n                floor.receiveShadow = true;\n                this.scene.add(floor);\n                \n                // Create ceiling\n                const ceiling = new THREE.Mesh(floorGeometry, this.materials.wall);\n                ceiling.rotation.x = Math.PI / 2;\n                ceiling.position.set(\n                    roomData.x + roomData.width / 2,\n                    3,\n                    roomData.z + roomData.depth / 2\n                );\n                ceiling.receiveShadow = true;\n                this.scene.add(ceiling);\n                \n                // Add furniture based on room type\n                this.furnishRoom(room);\n                \n                // Create light probe for the room\n                this.createLightProbe(room);\n                \n                this.rooms.push(room);\n            }\n            \n            furnishRoom(room) {\n                const centerX = room.x + room.width / 2;\n                const centerZ = room.z + room.depth / 2;\n                \n                switch(room.type) {\n                    case 'living':\n                        // Sofa\n                        const sofa = this.createSofa(centerX - 2, 0.4, centerZ);\n                        room.furniture.push(sofa);\n                        this.furniture.push(sofa);\n                        \n                        // Coffee table\n                        const table = this.createTable(centerX, 0.4, centerZ + 1.5);\n                        room.furniture.push(table);\n                        this.furniture.push(table);\n                        \n                        // TV Stand\n                        const tvStand = this.createTVStand(centerX + 3, 0.3, centerZ - 2);\n                        room.furniture.push(tvStand);\n                        this.furniture.push(tvStand);\n                        \n                        // Hotspots\n                        this.createHotspot(centerX - 2, 1, centerZ, 'Toggle Sofa Color', () => {\n                            this.toggleSofaColor(sofa);\n                        }, room);\n                        break;\n                        \n                    case 'kitchen':\n                        // Kitchen island\n                        const island = this.createKitchenIsland(centerX, 0.9, centerZ);\n                        room.furniture.push(island);\n                        this.furniture.push(island);\n                        \n                        // Refrigerator\n                        const fridge = this.createRefrigerator(centerX + 2, 1, centerZ - 2);\n                        room.furniture.push(fridge);\n                        this.furniture.push(fridge);\n                        \n                        this.createHotspot(centerX, 1.5, centerZ, 'Toggle Island Lights', () => {\n                            this.toggleIslandLights(island);\n                        }, room);\n                        break;\n                        \n                    case 'bedroom':\n                        // Bed\n                        const bed = this.createBed(centerX, 0.5, centerZ - 1);\n                        room.furniture.push(bed);\n                        this.furniture.push(bed);\n                        \n                        // Dresser\n                        const dresser = this.createDresser(centerX - 3, 0.8, centerZ + 2);\n                        room.furniture.push(dresser);\n                        this.furniture.push(dresser);\n                        \n                        this.createHotspot(centerX, 1, centerZ - 1, 'Change Bedsheets', () => {\n                            this.changeBedsheets(bed);\n                        }, room);\n                        break;\n                        \n                    case 'bathroom':\n                        // Toilet\n                        const toilet = this.createToilet(centerX - 1, 0.4, centerZ - 1);\n                        room.furniture.push(toilet);\n                        this.furniture.push(toilet);\n                        \n                        // Sink\n                        const sink = this.createSink(centerX + 1, 0.8, centerZ + 1);\n                        room.furniture.push(sink);\n                        this.furniture.push(sink);\n                        break;\n                }\n            }\n            \n            createSofa(x, y, z) {\n                const group = new THREE.Group();\n                \n                // Main body\n                const bodyGeometry = new THREE.BoxGeometry(3, 0.8, 1);\n                const body = new THREE.Mesh(bodyGeometry, this.materials.fabric);\n                body.position.set(0, 0, 0);\n                body.castShadow = true;\n                group.add(body);\n                \n                // Backrest\n                const backGeometry = new THREE.BoxGeometry(3, 1.2, 0.2);\n                const back = new THREE.Mesh(backGeometry, this.materials.fabric);\n                back.position.set(0, 0.6, -0.4);\n                back.castShadow = true;\n                group.add(back);\n                \n                // Arms\n                const armGeometry = new THREE.BoxGeometry(0.2, 1, 1);\n                const leftArm = new THREE.Mesh(armGeometry, this.materials.fabric);\n                leftArm.position.set",
    "model": "anthropic/claude-sonnet-4-20250514",
    "agent_name": "BenchAgent",
    "execution_time": 51.488706827163696,
    "status": "success",
    "timestamp": "2025-08-29 17:33:22"
  }
]